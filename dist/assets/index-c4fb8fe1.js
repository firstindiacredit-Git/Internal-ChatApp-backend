function qh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Gh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kd={exports:{}},Ji={},Ed={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),Kh=Symbol.for("react.portal"),Qh=Symbol.for("react.fragment"),Yh=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),Jh=Symbol.for("react.provider"),Zh=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),nm=Symbol.for("react.memo"),rm=Symbol.for("react.lazy"),Ic=Symbol.iterator;function sm(e){return e===null||typeof e!="object"?null:(e=Ic&&e[Ic]||e["@@iterator"],typeof e=="function"?e:null)}var jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cd=Object.assign,_d={};function Nr(e,t,n){this.props=e,this.context=t,this.refs=_d,this.updater=n||jd}Nr.prototype.isReactComponent={};Nr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bd(){}bd.prototype=Nr.prototype;function ya(e,t,n){this.props=e,this.context=t,this.refs=_d,this.updater=n||jd}var va=ya.prototype=new bd;va.constructor=ya;Cd(va,Nr.prototype);va.isPureReactComponent=!0;var Mc=Array.isArray,Rd=Object.prototype.hasOwnProperty,xa={current:null},Td={key:!0,ref:!0,__self:!0,__source:!0};function Ad(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Rd.call(t,r)&&!Td.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ks,type:e,key:i,ref:o,props:s,_owner:xa.current}}function im(e,t){return{$$typeof:ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wa(e){return typeof e=="object"&&e!==null&&e.$$typeof===ks}function om(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lc=/\/+/g;function Co(e,t){return typeof e=="object"&&e!==null&&e.key!=null?om(""+e.key):t.toString(36)}function ei(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ks:case Kh:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Co(o,0):r,Mc(s)?(n="",e!=null&&(n=e.replace(Lc,"$&/")+"/"),ei(s,t,n,"",function(u){return u})):s!=null&&(wa(s)&&(s=im(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Lc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Mc(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Co(i,a);o+=ei(i,t,n,c,s)}else if(c=sm(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Co(i,a++),o+=ei(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Os(e,t,n){if(e==null)return e;var r=[],s=0;return ei(e,r,"","",function(i){return t.call(n,i,s++)}),r}function lm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},ti={transition:null},am={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:ti,ReactCurrentOwner:xa};function Pd(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Os,forEach:function(e,t,n){Os(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Os(e,function(){t++}),t},toArray:function(e){return Os(e,function(t){return t})||[]},only:function(e){if(!wa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=Nr;J.Fragment=Qh;J.Profiler=Xh;J.PureComponent=ya;J.StrictMode=Yh;J.Suspense=tm;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=am;J.act=Pd;J.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Cd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=xa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Rd.call(t,c)&&!Td.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ks,type:e.type,key:s,ref:i,props:r,_owner:o}};J.createContext=function(e){return e={$$typeof:Zh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jh,_context:e},e.Consumer=e};J.createElement=Ad;J.createFactory=function(e){var t=Ad.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:em,render:e}};J.isValidElement=wa;J.lazy=function(e){return{$$typeof:rm,_payload:{_status:-1,_result:e},_init:lm}};J.memo=function(e,t){return{$$typeof:nm,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=ti.transition;ti.transition={};try{e()}finally{ti.transition=t}};J.unstable_act=Pd;J.useCallback=function(e,t){return We.current.useCallback(e,t)};J.useContext=function(e){return We.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return We.current.useDeferredValue(e)};J.useEffect=function(e,t){return We.current.useEffect(e,t)};J.useId=function(){return We.current.useId()};J.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return We.current.useMemo(e,t)};J.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};J.useRef=function(e){return We.current.useRef(e)};J.useState=function(e){return We.current.useState(e)};J.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};J.useTransition=function(){return We.current.useTransition()};J.version="18.3.1";Ed.exports=J;var S=Ed.exports;const Od=Gh(S),cm=qh({__proto__:null,default:Od},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=S,dm=Symbol.for("react.element"),fm=Symbol.for("react.fragment"),pm=Object.prototype.hasOwnProperty,hm=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mm={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)pm.call(t,r)&&!mm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:dm,type:e,key:i,ref:o,props:s,_owner:hm.current}}Ji.Fragment=fm;Ji.jsx=Id;Ji.jsxs=Id;kd.exports=Ji;var l=kd.exports,ol={},Md={exports:{}},ot={},Ld={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,F){var V=j.length;j.push(F);e:for(;0<V;){var G=V-1>>>1,q=j[G];if(0<s(q,F))j[G]=F,j[V]=q,V=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],V=j.pop();if(V!==F){j[0]=V;e:for(var G=0,q=j.length,et=q>>>1;G<et;){var R=2*(G+1)-1,T=j[R],x=R+1,E=j[x];if(0>s(T,V))x<q&&0>s(E,T)?(j[G]=E,j[x]=V,G=x):(j[G]=T,j[R]=V,G=R);else if(x<q&&0>s(E,V))j[G]=E,j[x]=V,G=x;else break e}}return F}function s(j,F){var V=j.sortIndex-F.sortIndex;return V!==0?V:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,d=null,y=3,w=!1,p=!1,g=!1,k=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(j){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=j)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function _(j){if(g=!1,m(j),!p)if(n(c)!==null)p=!0,pe(A);else{var F=n(u);F!==null&&D(_,F.startTime-j)}}function A(j,F){p=!1,g&&(g=!1,v(b),b=-1),w=!0;var V=y;try{for(m(F),d=n(c);d!==null&&(!(d.expirationTime>F)||j&&!X());){var G=d.callback;if(typeof G=="function"){d.callback=null,y=d.priorityLevel;var q=G(d.expirationTime<=F);F=e.unstable_now(),typeof q=="function"?d.callback=q:d===n(c)&&r(c),m(F)}else r(c);d=n(c)}if(d!==null)var et=!0;else{var R=n(u);R!==null&&D(_,R.startTime-F),et=!1}return et}finally{d=null,y=V,w=!1}}var N=!1,L=null,b=-1,z=5,B=-1;function X(){return!(e.unstable_now()-B<z)}function oe(){if(L!==null){var j=e.unstable_now();B=j;var F=!0;try{F=L(!0,j)}finally{F?le():(N=!1,L=null)}}else N=!1}var le;if(typeof h=="function")le=function(){h(oe)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ze=we.port2;we.port1.onmessage=oe,le=function(){Ze.postMessage(null)}}else le=function(){k(oe,0)};function pe(j){L=j,N||(N=!0,le())}function D(j,F){b=k(function(){j(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){p||w||(p=!0,pe(A))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(j){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var V=y;y=F;try{return j()}finally{y=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=y;y=j;try{return F()}finally{y=V}},e.unstable_scheduleCallback=function(j,F,V){var G=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,j){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=V+q,j={id:f++,callback:F,priorityLevel:j,startTime:V,expirationTime:q,sortIndex:-1},V>G?(j.sortIndex=V,t(u,j),n(c)===null&&j===n(u)&&(g?(v(b),b=-1):g=!0,D(_,V-G))):(j.sortIndex=q,t(c,j),p||w||(p=!0,pe(A))),j},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(j){var F=y;return function(){var V=y;y=F;try{return j.apply(this,arguments)}finally{y=V}}}})(Ud);Ld.exports=Ud;var gm=Ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=S,it=gm;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dd=new Set,rs={};function Wn(e,t){hr(e,t),hr(e+"Capture",t)}function hr(e,t){for(rs[e]=t,e=0;e<t.length;e++)Dd.add(t[e])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=Object.prototype.hasOwnProperty,vm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uc={},Dc={};function xm(e){return ll.call(Dc,e)?!0:ll.call(Uc,e)?!1:vm.test(e)?Dc[e]=!0:(Uc[e]=!0,!1)}function wm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sm(e,t,n,r){if(t===null||typeof t>"u"||wm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sa=/[\-:]([a-z])/g;function Na(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sa,Na);Ie[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sa,Na);Ie[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sa,Na);Ie[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ka(e,t,n,r){var s=Ie.hasOwnProperty(t)?Ie[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sm(t,n,s,r)&&(n=null),r||s===null?xm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xt=ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Is=Symbol.for("react.element"),Yn=Symbol.for("react.portal"),Xn=Symbol.for("react.fragment"),Ea=Symbol.for("react.strict_mode"),al=Symbol.for("react.profiler"),Fd=Symbol.for("react.provider"),$d=Symbol.for("react.context"),ja=Symbol.for("react.forward_ref"),cl=Symbol.for("react.suspense"),ul=Symbol.for("react.suspense_list"),Ca=Symbol.for("react.memo"),en=Symbol.for("react.lazy"),zd=Symbol.for("react.offscreen"),Fc=Symbol.iterator;function Tr(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,_o;function $r(e){if(_o===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_o=t&&t[1]||""}return`
`+_o+e}var bo=!1;function Ro(e,t){if(!e||bo)return"";bo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{bo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$r(e):""}function Nm(e){switch(e.tag){case 5:return $r(e.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 2:case 15:return e=Ro(e.type,!1),e;case 11:return e=Ro(e.type.render,!1),e;case 1:return e=Ro(e.type,!0),e;default:return""}}function dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xn:return"Fragment";case Yn:return"Portal";case al:return"Profiler";case Ea:return"StrictMode";case cl:return"Suspense";case ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $d:return(e.displayName||"Context")+".Consumer";case Fd:return(e._context.displayName||"Context")+".Provider";case ja:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ca:return t=e.displayName||null,t!==null?t:dl(e.type)||"Memo";case en:t=e._payload,e=e._init;try{return dl(e(t))}catch{}}return null}function km(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dl(t);case 8:return t===Ea?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Em(e){var t=Bd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ms(e){e._valueTracker||(e._valueTracker=Em(e))}function Hd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fl(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $c(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vd(e,t){t=t.checked,t!=null&&ka(e,"checked",t,!1)}function pl(e,t){Vd(e,t);var n=Sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hl(e,t.type,n):t.hasOwnProperty("defaultValue")&&hl(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hl(e,t,n){(t!=="number"||wi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zr=Array.isArray;function ar(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(zr(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sn(n)}}function Wd(e,t){var n=Sn(t.value),r=Sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ls,Gd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ss(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jm=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(e){jm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wr[t]=Wr[e]})});function Kd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wr.hasOwnProperty(e)&&Wr[e]?(""+t).trim():t+"px"}function Qd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Kd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Cm=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yl(e,t){if(t){if(Cm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function vl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=null;function _a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wl=null,cr=null,ur=null;function Vc(e){if(e=Cs(e)){if(typeof wl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=ro(t),wl(e.stateNode,e.type,t))}}function Yd(e){cr?ur?ur.push(e):ur=[e]:cr=e}function Xd(){if(cr){var e=cr,t=ur;if(ur=cr=null,Vc(e),t)for(e=0;e<t.length;e++)Vc(t[e])}}function Jd(e,t){return e(t)}function Zd(){}var To=!1;function ef(e,t,n){if(To)return e(t,n);To=!0;try{return Jd(e,t,n)}finally{To=!1,(cr!==null||ur!==null)&&(Zd(),Xd())}}function is(e,t){var n=e.stateNode;if(n===null)return null;var r=ro(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Sl=!1;if(qt)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{Sl=!1}function _m(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var qr=!1,Si=null,Ni=!1,Nl=null,bm={onError:function(e){qr=!0,Si=e}};function Rm(e,t,n,r,s,i,o,a,c){qr=!1,Si=null,_m.apply(bm,arguments)}function Tm(e,t,n,r,s,i,o,a,c){if(Rm.apply(this,arguments),qr){if(qr){var u=Si;qr=!1,Si=null}else throw Error(I(198));Ni||(Ni=!0,Nl=u)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wc(e){if(qn(e)!==e)throw Error(I(188))}function Am(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wc(s),e;if(i===r)return Wc(s),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function nf(e){return e=Am(e),e!==null?rf(e):null}function rf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rf(e);if(t!==null)return t;e=e.sibling}return null}var sf=it.unstable_scheduleCallback,qc=it.unstable_cancelCallback,Pm=it.unstable_shouldYield,Om=it.unstable_requestPaint,Se=it.unstable_now,Im=it.unstable_getCurrentPriorityLevel,ba=it.unstable_ImmediatePriority,of=it.unstable_UserBlockingPriority,ki=it.unstable_NormalPriority,Mm=it.unstable_LowPriority,lf=it.unstable_IdlePriority,Zi=null,Lt=null;function Lm(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Zi,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Fm,Um=Math.log,Dm=Math.LN2;function Fm(e){return e>>>=0,e===0?32:31-(Um(e)/Dm|0)|0}var Us=64,Ds=4194304;function Br(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ei(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Br(a):(i&=o,i!==0&&(r=Br(i)))}else o=n&~s,o!==0?r=Br(o):i!==0&&(r=Br(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),s=1<<n,r|=e[n],t&=~s;return r}function $m(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-jt(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=$m(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function kl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function af(){var e=Us;return Us<<=1,!(Us&4194240)&&(Us=64),e}function Ao(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Es(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function Bm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ra(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var se=0;function cf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uf,Ta,df,ff,pf,El=!1,Fs=[],un=null,dn=null,fn=null,os=new Map,ls=new Map,nn=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gc(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(t.pointerId)}}function Pr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cs(t),t!==null&&Ta(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Vm(e,t,n,r,s){switch(t){case"focusin":return un=Pr(un,e,t,n,r,s),!0;case"dragenter":return dn=Pr(dn,e,t,n,r,s),!0;case"mouseover":return fn=Pr(fn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return os.set(i,Pr(os.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ls.set(i,Pr(ls.get(i)||null,e,t,n,r,s)),!0}return!1}function hf(e){var t=Pn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=tf(n),t!==null){e.blockedOn=t,pf(e.priority,function(){df(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xl=r,n.target.dispatchEvent(r),xl=null}else return t=Cs(n),t!==null&&Ta(t),e.blockedOn=n,!1;t.shift()}return!0}function Kc(e,t,n){ni(e)&&n.delete(t)}function Wm(){El=!1,un!==null&&ni(un)&&(un=null),dn!==null&&ni(dn)&&(dn=null),fn!==null&&ni(fn)&&(fn=null),os.forEach(Kc),ls.forEach(Kc)}function Or(e,t){e.blockedOn===t&&(e.blockedOn=null,El||(El=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Wm)))}function as(e){function t(s){return Or(s,e)}if(0<Fs.length){Or(Fs[0],e);for(var n=1;n<Fs.length;n++){var r=Fs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(un!==null&&Or(un,e),dn!==null&&Or(dn,e),fn!==null&&Or(fn,e),os.forEach(t),ls.forEach(t),n=0;n<nn.length;n++)r=nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<nn.length&&(n=nn[0],n.blockedOn===null);)hf(n),n.blockedOn===null&&nn.shift()}var dr=Xt.ReactCurrentBatchConfig,ji=!0;function qm(e,t,n,r){var s=se,i=dr.transition;dr.transition=null;try{se=1,Aa(e,t,n,r)}finally{se=s,dr.transition=i}}function Gm(e,t,n,r){var s=se,i=dr.transition;dr.transition=null;try{se=4,Aa(e,t,n,r)}finally{se=s,dr.transition=i}}function Aa(e,t,n,r){if(ji){var s=jl(e,t,n,r);if(s===null)zo(e,t,r,Ci,n),Gc(e,r);else if(Vm(s,e,t,n,r))r.stopPropagation();else if(Gc(e,r),t&4&&-1<Hm.indexOf(e)){for(;s!==null;){var i=Cs(s);if(i!==null&&uf(i),i=jl(e,t,n,r),i===null&&zo(e,t,r,Ci,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zo(e,t,r,null,n)}}var Ci=null;function jl(e,t,n,r){if(Ci=null,e=_a(r),e=Pn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ci=e,null}function mf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Im()){case ba:return 1;case of:return 4;case ki:case Mm:return 16;case lf:return 536870912;default:return 16}default:return 16}}var on=null,Pa=null,ri=null;function gf(){if(ri)return ri;var e,t=Pa,n=t.length,r,s="value"in on?on.value:on.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ri=s.slice(e,1<r?1-r:void 0)}function si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function Qc(){return!1}function lt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$s:Qc,this.isPropagationStopped=Qc,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=lt(kr),js=ye({},kr,{view:0,detail:0}),Km=lt(js),Po,Oo,Ir,eo=ye({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Po=e.screenX-Ir.screenX,Oo=e.screenY-Ir.screenY):Oo=Po=0,Ir=e),Po)},movementY:function(e){return"movementY"in e?e.movementY:Oo}}),Yc=lt(eo),Qm=ye({},eo,{dataTransfer:0}),Ym=lt(Qm),Xm=ye({},js,{relatedTarget:0}),Io=lt(Xm),Jm=ye({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zm=lt(Jm),eg=ye({},kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tg=lt(eg),ng=ye({},kr,{data:0}),Xc=lt(ng),rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ig={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function og(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ig[e])?!!t[e]:!1}function Ia(){return og}var lg=ye({},js,{key:function(e){if(e.key){var t=rg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ag=lt(lg),cg=ye({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=lt(cg),ug=ye({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),dg=lt(ug),fg=ye({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pg=lt(fg),hg=ye({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mg=lt(hg),gg=[9,13,27,32],Ma=qt&&"CompositionEvent"in window,Gr=null;qt&&"documentMode"in document&&(Gr=document.documentMode);var yg=qt&&"TextEvent"in window&&!Gr,yf=qt&&(!Ma||Gr&&8<Gr&&11>=Gr),Zc=String.fromCharCode(32),eu=!1;function vf(e,t){switch(e){case"keyup":return gg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jn=!1;function vg(e,t){switch(e){case"compositionend":return xf(t);case"keypress":return t.which!==32?null:(eu=!0,Zc);case"textInput":return e=t.data,e===Zc&&eu?null:e;default:return null}}function xg(e,t){if(Jn)return e==="compositionend"||!Ma&&vf(e,t)?(e=gf(),ri=Pa=on=null,Jn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yf&&t.locale!=="ko"?null:t.data;default:return null}}var wg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wg[e.type]:t==="textarea"}function wf(e,t,n,r){Yd(r),t=_i(t,"onChange"),0<t.length&&(n=new Oa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kr=null,cs=null;function Sg(e){Af(e,0)}function to(e){var t=tr(e);if(Hd(t))return e}function Ng(e,t){if(e==="change")return t}var Sf=!1;if(qt){var Mo;if(qt){var Lo="oninput"in document;if(!Lo){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),Lo=typeof nu.oninput=="function"}Mo=Lo}else Mo=!1;Sf=Mo&&(!document.documentMode||9<document.documentMode)}function ru(){Kr&&(Kr.detachEvent("onpropertychange",Nf),cs=Kr=null)}function Nf(e){if(e.propertyName==="value"&&to(cs)){var t=[];wf(t,cs,e,_a(e)),ef(Sg,t)}}function kg(e,t,n){e==="focusin"?(ru(),Kr=t,cs=n,Kr.attachEvent("onpropertychange",Nf)):e==="focusout"&&ru()}function Eg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(cs)}function jg(e,t){if(e==="click")return to(t)}function Cg(e,t){if(e==="input"||e==="change")return to(t)}function _g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:_g;function us(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ll.call(t,s)||!bt(e[s],t[s]))return!1}return!0}function su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iu(e,t){var n=su(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=su(n)}}function kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(){for(var e=window,t=wi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wi(e.document)}return t}function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bg(e){var t=Ef(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kf(n.ownerDocument.documentElement,n)){if(r!==null&&La(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=iu(n,i);var o=iu(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rg=qt&&"documentMode"in document&&11>=document.documentMode,Zn=null,Cl=null,Qr=null,_l=!1;function ou(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_l||Zn==null||Zn!==wi(r)||(r=Zn,"selectionStart"in r&&La(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&us(Qr,r)||(Qr=r,r=_i(Cl,"onSelect"),0<r.length&&(t=new Oa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zn)))}function zs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var er={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},Uo={},jf={};qt&&(jf=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function no(e){if(Uo[e])return Uo[e];if(!er[e])return e;var t=er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jf)return Uo[e]=t[n];return e}var Cf=no("animationend"),_f=no("animationiteration"),bf=no("animationstart"),Rf=no("transitionend"),Tf=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Tf.set(e,t),Wn(t,[e])}for(var Do=0;Do<lu.length;Do++){var Fo=lu[Do],Tg=Fo.toLowerCase(),Ag=Fo[0].toUpperCase()+Fo.slice(1);En(Tg,"on"+Ag)}En(Cf,"onAnimationEnd");En(_f,"onAnimationIteration");En(bf,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Rf,"onTransitionEnd");hr("onMouseEnter",["mouseout","mouseover"]);hr("onMouseLeave",["mouseout","mouseover"]);hr("onPointerEnter",["pointerout","pointerover"]);hr("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function au(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Tm(r,t,void 0,e),e.currentTarget=null}function Af(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;au(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;au(s,a,u),i=c}}}if(Ni)throw e=Nl,Ni=!1,Nl=null,e}function de(e,t){var n=t[Pl];n===void 0&&(n=t[Pl]=new Set);var r=e+"__bubble";n.has(r)||(Pf(t,e,2,!1),n.add(r))}function $o(e,t,n){var r=0;t&&(r|=4),Pf(n,e,r,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function ds(e){if(!e[Bs]){e[Bs]=!0,Dd.forEach(function(n){n!=="selectionchange"&&(Pg.has(n)||$o(n,!1,e),$o(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,$o("selectionchange",!1,t))}}function Pf(e,t,n,r){switch(mf(t)){case 1:var s=qm;break;case 4:s=Gm;break;default:s=Aa}n=s.bind(null,t,n,e),s=void 0,!Sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function zo(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Pn(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ef(function(){var u=i,f=_a(n),d=[];e:{var y=Tf.get(e);if(y!==void 0){var w=Oa,p=e;switch(e){case"keypress":if(si(n)===0)break e;case"keydown":case"keyup":w=ag;break;case"focusin":p="focus",w=Io;break;case"focusout":p="blur",w=Io;break;case"beforeblur":case"afterblur":w=Io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=dg;break;case Cf:case _f:case bf:w=Zm;break;case Rf:w=pg;break;case"scroll":w=Km;break;case"wheel":w=mg;break;case"copy":case"cut":case"paste":w=tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Jc}var g=(t&4)!==0,k=!g&&e==="scroll",v=g?y!==null?y+"Capture":null:y;g=[];for(var h=u,m;h!==null;){m=h;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,v!==null&&(_=is(h,v),_!=null&&g.push(fs(h,_,m)))),k)break;h=h.return}0<g.length&&(y=new w(y,p,null,n,f),d.push({event:y,listeners:g}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",y&&n!==xl&&(p=n.relatedTarget||n.fromElement)&&(Pn(p)||p[Gt]))break e;if((w||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,w?(p=n.relatedTarget||n.toElement,w=u,p=p?Pn(p):null,p!==null&&(k=qn(p),p!==k||p.tag!==5&&p.tag!==6)&&(p=null)):(w=null,p=u),w!==p)){if(g=Yc,_="onMouseLeave",v="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(g=Jc,_="onPointerLeave",v="onPointerEnter",h="pointer"),k=w==null?y:tr(w),m=p==null?y:tr(p),y=new g(_,h+"leave",w,n,f),y.target=k,y.relatedTarget=m,_=null,Pn(f)===u&&(g=new g(v,h+"enter",p,n,f),g.target=m,g.relatedTarget=k,_=g),k=_,w&&p)t:{for(g=w,v=p,h=0,m=g;m;m=Kn(m))h++;for(m=0,_=v;_;_=Kn(_))m++;for(;0<h-m;)g=Kn(g),h--;for(;0<m-h;)v=Kn(v),m--;for(;h--;){if(g===v||v!==null&&g===v.alternate)break t;g=Kn(g),v=Kn(v)}g=null}else g=null;w!==null&&cu(d,y,w,g,!1),p!==null&&k!==null&&cu(d,k,p,g,!0)}}e:{if(y=u?tr(u):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var A=Ng;else if(tu(y))if(Sf)A=Cg;else{A=Eg;var N=kg}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(A=jg);if(A&&(A=A(e,u))){wf(d,A,n,f);break e}N&&N(e,y,u),e==="focusout"&&(N=y._wrapperState)&&N.controlled&&y.type==="number"&&hl(y,"number",y.value)}switch(N=u?tr(u):window,e){case"focusin":(tu(N)||N.contentEditable==="true")&&(Zn=N,Cl=u,Qr=null);break;case"focusout":Qr=Cl=Zn=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,ou(d,n,f);break;case"selectionchange":if(Rg)break;case"keydown":case"keyup":ou(d,n,f)}var L;if(Ma)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jn?vf(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(yf&&n.locale!=="ko"&&(Jn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Jn&&(L=gf()):(on=f,Pa="value"in on?on.value:on.textContent,Jn=!0)),N=_i(u,b),0<N.length&&(b=new Xc(b,e,null,n,f),d.push({event:b,listeners:N}),L?b.data=L:(L=xf(n),L!==null&&(b.data=L)))),(L=yg?vg(e,n):xg(e,n))&&(u=_i(u,"onBeforeInput"),0<u.length&&(f=new Xc("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=L))}Af(d,t)})}function fs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _i(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=is(e,n),i!=null&&r.unshift(fs(e,i,s)),i=is(e,t),i!=null&&r.push(fs(e,i,s))),e=e.return}return r}function Kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cu(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=is(n,i),c!=null&&o.unshift(fs(n,c,a))):s||(c=is(n,i),c!=null&&o.push(fs(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Og=/\r\n?/g,Ig=/\u0000|\uFFFD/g;function uu(e){return(typeof e=="string"?e:""+e).replace(Og,`
`).replace(Ig,"")}function Hs(e,t,n){if(t=uu(t),uu(e)!==t&&n)throw Error(I(425))}function bi(){}var bl=null,Rl=null;function Tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Al=typeof setTimeout=="function"?setTimeout:void 0,Mg=typeof clearTimeout=="function"?clearTimeout:void 0,du=typeof Promise=="function"?Promise:void 0,Lg=typeof queueMicrotask=="function"?queueMicrotask:typeof du<"u"?function(e){return du.resolve(null).then(e).catch(Ug)}:Al;function Ug(e){setTimeout(function(){throw e})}function Bo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),as(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);as(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),It="__reactFiber$"+Er,ps="__reactProps$"+Er,Gt="__reactContainer$"+Er,Pl="__reactEvents$"+Er,Dg="__reactListeners$"+Er,Fg="__reactHandles$"+Er;function Pn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fu(e);e!==null;){if(n=e[It])return n;e=fu(e)}return t}e=n,n=e.parentNode}return null}function Cs(e){return e=e[It]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function ro(e){return e[ps]||null}var Ol=[],nr=-1;function jn(e){return{current:e}}function fe(e){0>nr||(e.current=Ol[nr],Ol[nr]=null,nr--)}function ce(e,t){nr++,Ol[nr]=e.current,e.current=t}var Nn={},$e=jn(Nn),Qe=jn(!1),Fn=Nn;function mr(e,t){var n=e.type.contextTypes;if(!n)return Nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ye(e){return e=e.childContextTypes,e!=null}function Ri(){fe(Qe),fe($e)}function pu(e,t,n){if($e.current!==Nn)throw Error(I(168));ce($e,t),ce(Qe,n)}function Of(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(I(108,km(e)||"Unknown",s));return ye({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nn,Fn=$e.current,ce($e,e),ce(Qe,Qe.current),!0}function hu(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Of(e,t,Fn),r.__reactInternalMemoizedMergedChildContext=e,fe(Qe),fe($e),ce($e,e)):fe(Qe),ce(Qe,n)}var Bt=null,so=!1,Ho=!1;function If(e){Bt===null?Bt=[e]:Bt.push(e)}function $g(e){so=!0,If(e)}function Cn(){if(!Ho&&Bt!==null){Ho=!0;var e=0,t=se;try{var n=Bt;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Bt=null,so=!1}catch(s){throw Bt!==null&&(Bt=Bt.slice(e+1)),sf(ba,Cn),s}finally{se=t,Ho=!1}}return null}var rr=[],sr=0,Ai=null,Pi=0,ut=[],dt=0,$n=null,Ht=1,Vt="";function Tn(e,t){rr[sr++]=Pi,rr[sr++]=Ai,Ai=e,Pi=t}function Mf(e,t,n){ut[dt++]=Ht,ut[dt++]=Vt,ut[dt++]=$n,$n=e;var r=Ht;e=Vt;var s=32-jt(r)-1;r&=~(1<<s),n+=1;var i=32-jt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ht=1<<32-jt(t)+s|n<<s|r,Vt=i+e}else Ht=1<<i|n<<s|r,Vt=e}function Ua(e){e.return!==null&&(Tn(e,1),Mf(e,1,0))}function Da(e){for(;e===Ai;)Ai=rr[--sr],rr[sr]=null,Pi=rr[--sr],rr[sr]=null;for(;e===$n;)$n=ut[--dt],ut[dt]=null,Vt=ut[--dt],ut[dt]=null,Ht=ut[--dt],ut[dt]=null}var st=null,rt=null,he=!1,Et=null;function Lf(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$n!==null?{id:Ht,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,rt=null,!0):!1;default:return!1}}function Il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ml(e){if(he){var t=rt;if(t){var n=t;if(!mu(e,t)){if(Il(e))throw Error(I(418));t=pn(n.nextSibling);var r=st;t&&mu(e,t)?Lf(r,n):(e.flags=e.flags&-4097|2,he=!1,st=e)}}else{if(Il(e))throw Error(I(418));e.flags=e.flags&-4097|2,he=!1,st=e}}}function gu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Vs(e){if(e!==st)return!1;if(!he)return gu(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tl(e.type,e.memoizedProps)),t&&(t=rt)){if(Il(e))throw Uf(),Error(I(418));for(;t;)Lf(e,t),t=pn(t.nextSibling)}if(gu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?pn(e.stateNode.nextSibling):null;return!0}function Uf(){for(var e=rt;e;)e=pn(e.nextSibling)}function gr(){rt=st=null,he=!1}function Fa(e){Et===null?Et=[e]:Et.push(e)}var zg=Xt.ReactCurrentBatchConfig;function Mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yu(e){var t=e._init;return t(e._payload)}function Df(e){function t(v,h){if(e){var m=v.deletions;m===null?(v.deletions=[h],v.flags|=16):m.push(h)}}function n(v,h){if(!e)return null;for(;h!==null;)t(v,h),h=h.sibling;return null}function r(v,h){for(v=new Map;h!==null;)h.key!==null?v.set(h.key,h):v.set(h.index,h),h=h.sibling;return v}function s(v,h){return v=yn(v,h),v.index=0,v.sibling=null,v}function i(v,h,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<h?(v.flags|=2,h):m):(v.flags|=2,h)):(v.flags|=1048576,h)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,h,m,_){return h===null||h.tag!==6?(h=Yo(m,v.mode,_),h.return=v,h):(h=s(h,m),h.return=v,h)}function c(v,h,m,_){var A=m.type;return A===Xn?f(v,h,m.props.children,_,m.key):h!==null&&(h.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===en&&yu(A)===h.type)?(_=s(h,m.props),_.ref=Mr(v,h,m),_.return=v,_):(_=di(m.type,m.key,m.props,null,v.mode,_),_.ref=Mr(v,h,m),_.return=v,_)}function u(v,h,m,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Xo(m,v.mode,_),h.return=v,h):(h=s(h,m.children||[]),h.return=v,h)}function f(v,h,m,_,A){return h===null||h.tag!==7?(h=Un(m,v.mode,_,A),h.return=v,h):(h=s(h,m),h.return=v,h)}function d(v,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Yo(""+h,v.mode,m),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Is:return m=di(h.type,h.key,h.props,null,v.mode,m),m.ref=Mr(v,null,h),m.return=v,m;case Yn:return h=Xo(h,v.mode,m),h.return=v,h;case en:var _=h._init;return d(v,_(h._payload),m)}if(zr(h)||Tr(h))return h=Un(h,v.mode,m,null),h.return=v,h;Ws(v,h)}return null}function y(v,h,m,_){var A=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return A!==null?null:a(v,h,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Is:return m.key===A?c(v,h,m,_):null;case Yn:return m.key===A?u(v,h,m,_):null;case en:return A=m._init,y(v,h,A(m._payload),_)}if(zr(m)||Tr(m))return A!==null?null:f(v,h,m,_,null);Ws(v,m)}return null}function w(v,h,m,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(m)||null,a(h,v,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Is:return v=v.get(_.key===null?m:_.key)||null,c(h,v,_,A);case Yn:return v=v.get(_.key===null?m:_.key)||null,u(h,v,_,A);case en:var N=_._init;return w(v,h,m,N(_._payload),A)}if(zr(_)||Tr(_))return v=v.get(m)||null,f(h,v,_,A,null);Ws(h,_)}return null}function p(v,h,m,_){for(var A=null,N=null,L=h,b=h=0,z=null;L!==null&&b<m.length;b++){L.index>b?(z=L,L=null):z=L.sibling;var B=y(v,L,m[b],_);if(B===null){L===null&&(L=z);break}e&&L&&B.alternate===null&&t(v,L),h=i(B,h,b),N===null?A=B:N.sibling=B,N=B,L=z}if(b===m.length)return n(v,L),he&&Tn(v,b),A;if(L===null){for(;b<m.length;b++)L=d(v,m[b],_),L!==null&&(h=i(L,h,b),N===null?A=L:N.sibling=L,N=L);return he&&Tn(v,b),A}for(L=r(v,L);b<m.length;b++)z=w(L,v,b,m[b],_),z!==null&&(e&&z.alternate!==null&&L.delete(z.key===null?b:z.key),h=i(z,h,b),N===null?A=z:N.sibling=z,N=z);return e&&L.forEach(function(X){return t(v,X)}),he&&Tn(v,b),A}function g(v,h,m,_){var A=Tr(m);if(typeof A!="function")throw Error(I(150));if(m=A.call(m),m==null)throw Error(I(151));for(var N=A=null,L=h,b=h=0,z=null,B=m.next();L!==null&&!B.done;b++,B=m.next()){L.index>b?(z=L,L=null):z=L.sibling;var X=y(v,L,B.value,_);if(X===null){L===null&&(L=z);break}e&&L&&X.alternate===null&&t(v,L),h=i(X,h,b),N===null?A=X:N.sibling=X,N=X,L=z}if(B.done)return n(v,L),he&&Tn(v,b),A;if(L===null){for(;!B.done;b++,B=m.next())B=d(v,B.value,_),B!==null&&(h=i(B,h,b),N===null?A=B:N.sibling=B,N=B);return he&&Tn(v,b),A}for(L=r(v,L);!B.done;b++,B=m.next())B=w(L,v,b,B.value,_),B!==null&&(e&&B.alternate!==null&&L.delete(B.key===null?b:B.key),h=i(B,h,b),N===null?A=B:N.sibling=B,N=B);return e&&L.forEach(function(oe){return t(v,oe)}),he&&Tn(v,b),A}function k(v,h,m,_){if(typeof m=="object"&&m!==null&&m.type===Xn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Is:e:{for(var A=m.key,N=h;N!==null;){if(N.key===A){if(A=m.type,A===Xn){if(N.tag===7){n(v,N.sibling),h=s(N,m.props.children),h.return=v,v=h;break e}}else if(N.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===en&&yu(A)===N.type){n(v,N.sibling),h=s(N,m.props),h.ref=Mr(v,N,m),h.return=v,v=h;break e}n(v,N);break}else t(v,N);N=N.sibling}m.type===Xn?(h=Un(m.props.children,v.mode,_,m.key),h.return=v,v=h):(_=di(m.type,m.key,m.props,null,v.mode,_),_.ref=Mr(v,h,m),_.return=v,v=_)}return o(v);case Yn:e:{for(N=m.key;h!==null;){if(h.key===N)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(v,h.sibling),h=s(h,m.children||[]),h.return=v,v=h;break e}else{n(v,h);break}else t(v,h);h=h.sibling}h=Xo(m,v.mode,_),h.return=v,v=h}return o(v);case en:return N=m._init,k(v,h,N(m._payload),_)}if(zr(m))return p(v,h,m,_);if(Tr(m))return g(v,h,m,_);Ws(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(v,h.sibling),h=s(h,m),h.return=v,v=h):(n(v,h),h=Yo(m,v.mode,_),h.return=v,v=h),o(v)):n(v,h)}return k}var yr=Df(!0),Ff=Df(!1),Oi=jn(null),Ii=null,ir=null,$a=null;function za(){$a=ir=Ii=null}function Ba(e){var t=Oi.current;fe(Oi),e._currentValue=t}function Ll(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fr(e,t){Ii=e,$a=ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if($a!==e)if(e={context:e,memoizedValue:t,next:null},ir===null){if(Ii===null)throw Error(I(308));ir=e,Ii.dependencies={lanes:0,firstContext:e}}else ir=ir.next=e;return t}var On=null;function Ha(e){On===null?On=[e]:On.push(e)}function $f(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ha(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kt(e,r)}function Kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var tn=!1;function Va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Kt(e,n)}return s=r.interleaved,s===null?(t.next=t,Ha(r)):(t.next=s.next,s.next=t),r.interleaved=t,Kt(e,n)}function ii(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ra(e,n)}}function vu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mi(e,t,n,r){var s=e.updateQueue;tn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,a=i;do{var y=a.lane,w=a.eventTime;if((r&y)===y){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(y=t,w=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(w,d,y);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,y=typeof p=="function"?p.call(w,d,y):p,y==null)break e;d=ye({},d,y);break e;case 2:tn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[a]:y.push(a))}else w={eventTime:w,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=w,c=d):f=f.next=w,o|=y;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;y=a,a=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(1);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Bn|=o,e.lanes=o,e.memoizedState=d}}function xu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(I(191,s));s.call(r)}}}var _s={},Ut=jn(_s),hs=jn(_s),ms=jn(_s);function In(e){if(e===_s)throw Error(I(174));return e}function Wa(e,t){switch(ce(ms,t),ce(hs,e),ce(Ut,_s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gl(t,e)}fe(Ut),ce(Ut,t)}function vr(){fe(Ut),fe(hs),fe(ms)}function Bf(e){In(ms.current);var t=In(Ut.current),n=gl(t,e.type);t!==n&&(ce(hs,e),ce(Ut,n))}function qa(e){hs.current===e&&(fe(Ut),fe(hs))}var me=jn(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=[];function Ga(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var oi=Xt.ReactCurrentDispatcher,Wo=Xt.ReactCurrentBatchConfig,zn=0,ge=null,_e=null,Te=null,Ui=!1,Yr=!1,gs=0,Bg=0;function Me(){throw Error(I(321))}function Ka(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function Qa(e,t,n,r,s,i){if(zn=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=e===null||e.memoizedState===null?qg:Gg,e=n(r,s),Yr){i=0;do{if(Yr=!1,gs=0,25<=i)throw Error(I(301));i+=1,Te=_e=null,t.updateQueue=null,oi.current=Kg,e=n(r,s)}while(Yr)}if(oi.current=Di,t=_e!==null&&_e.next!==null,zn=0,Te=_e=ge=null,Ui=!1,t)throw Error(I(300));return e}function Ya(){var e=gs!==0;return gs=0,e}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ge.memoizedState=Te=e:Te=Te.next=e,Te}function yt(){if(_e===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Te===null?ge.memoizedState:Te.next;if(t!==null)Te=t,_e=e;else{if(e===null)throw Error(I(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Te===null?ge.memoizedState=Te=e:Te=Te.next=e}return Te}function ys(e,t){return typeof t=="function"?t(e):t}function qo(e){var t=yt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=_e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var f=u.lane;if((zn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,ge.lanes|=f,Bn|=f}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,bt(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ge.lanes|=i,Bn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Go(e){var t=yt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);bt(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Hf(){}function Vf(e,t){var n=ge,r=yt(),s=t(),i=!bt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ke=!0),r=r.queue,Xa(Gf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,vs(9,qf.bind(null,n,r,s,t),void 0,null),Ae===null)throw Error(I(349));zn&30||Wf(n,t,s)}return s}function Wf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qf(e,t,n,r){t.value=n,t.getSnapshot=r,Kf(t)&&Qf(e)}function Gf(e,t,n){return n(function(){Kf(t)&&Qf(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function Qf(e){var t=Kt(e,1);t!==null&&Ct(t,e,1,-1)}function wu(e){var t=Ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=Wg.bind(null,ge,e),[t.memoizedState,e]}function vs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yf(){return yt().memoizedState}function li(e,t,n,r){var s=Ot();ge.flags|=e,s.memoizedState=vs(1|t,n,void 0,r===void 0?null:r)}function io(e,t,n,r){var s=yt();r=r===void 0?null:r;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,r!==null&&Ka(r,o.deps)){s.memoizedState=vs(t,n,i,r);return}}ge.flags|=e,s.memoizedState=vs(1|t,n,i,r)}function Su(e,t){return li(8390656,8,e,t)}function Xa(e,t){return io(2048,8,e,t)}function Xf(e,t){return io(4,2,e,t)}function Jf(e,t){return io(4,4,e,t)}function Zf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ep(e,t,n){return n=n!=null?n.concat([e]):null,io(4,4,Zf.bind(null,t,e),n)}function Ja(){}function tp(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function np(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rp(e,t,n){return zn&21?(bt(n,t)||(n=af(),ge.lanes|=n,Bn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function Hg(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=Wo.transition;Wo.transition={};try{e(!1),t()}finally{se=n,Wo.transition=r}}function sp(){return yt().memoizedState}function Vg(e,t,n){var r=gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ip(e))op(t,n);else if(n=$f(e,t,n,r),n!==null){var s=Ve();Ct(n,e,r,s),lp(n,t,r)}}function Wg(e,t,n){var r=gn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ip(e))op(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,bt(a,o)){var c=t.interleaved;c===null?(s.next=s,Ha(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=$f(e,t,s,r),n!==null&&(s=Ve(),Ct(n,e,r,s),lp(n,t,r))}}function ip(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function op(e,t){Yr=Ui=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ra(e,n)}}var Di={readContext:gt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},qg={readContext:gt,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Su,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,li(4194308,4,Zf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return li(4194308,4,e,t)},useInsertionEffect:function(e,t){return li(4,2,e,t)},useMemo:function(e,t){var n=Ot();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ot();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vg.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:wu,useDebugValue:Ja,useDeferredValue:function(e){return Ot().memoizedState=e},useTransition:function(){var e=wu(!1),t=e[0];return e=Hg.bind(null,e[1]),Ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=Ot();if(he){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Ae===null)throw Error(I(349));zn&30||Wf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Su(Gf.bind(null,r,i,e),[e]),r.flags|=2048,vs(9,qf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ot(),t=Ae.identifierPrefix;if(he){var n=Vt,r=Ht;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gg={readContext:gt,useCallback:tp,useContext:gt,useEffect:Xa,useImperativeHandle:ep,useInsertionEffect:Xf,useLayoutEffect:Jf,useMemo:np,useReducer:qo,useRef:Yf,useState:function(){return qo(ys)},useDebugValue:Ja,useDeferredValue:function(e){var t=yt();return rp(t,_e.memoizedState,e)},useTransition:function(){var e=qo(ys)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Vf,useId:sp,unstable_isNewReconciler:!1},Kg={readContext:gt,useCallback:tp,useContext:gt,useEffect:Xa,useImperativeHandle:ep,useInsertionEffect:Xf,useLayoutEffect:Jf,useMemo:np,useReducer:Go,useRef:Yf,useState:function(){return Go(ys)},useDebugValue:Ja,useDeferredValue:function(e){var t=yt();return _e===null?t.memoizedState=e:rp(t,_e.memoizedState,e)},useTransition:function(){var e=Go(ys)[0],t=yt().memoizedState;return[e,t]},useMutableSource:Hf,useSyncExternalStore:Vf,useId:sp,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ul(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var oo={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=gn(e),i=Wt(r,s);i.payload=t,n!=null&&(i.callback=n),t=hn(e,i,s),t!==null&&(Ct(t,e,s,r),ii(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=gn(e),i=Wt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=hn(e,i,s),t!==null&&(Ct(t,e,s,r),ii(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=gn(e),s=Wt(n,r);s.tag=2,t!=null&&(s.callback=t),t=hn(e,s,r),t!==null&&(Ct(t,e,r,n),ii(t,e,r))}};function Nu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!us(n,r)||!us(s,i):!0}function ap(e,t,n){var r=!1,s=Nn,i=t.contextType;return typeof i=="object"&&i!==null?i=gt(i):(s=Ye(t)?Fn:$e.current,r=t.contextTypes,i=(r=r!=null)?mr(e,s):Nn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ku(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function Dl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Va(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=gt(i):(i=Ye(t)?Fn:$e.current,s.context=mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ul(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&oo.enqueueReplaceState(s,s.state,null),Mi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var n="",r=t;do n+=Nm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ko(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Qg=typeof WeakMap=="function"?WeakMap:Map;function cp(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$i||($i=!0,Ql=r),Fl(e,t)},n}function up(e,t,n){n=Wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Fl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fl(e,t),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Eu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Qg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=c0.bind(null,e,t,n),t.then(e,e))}function ju(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,hn(n,t,1))),n.lanes|=1),e)}var Yg=Xt.ReactCurrentOwner,Ke=!1;function He(e,t,n,r){t.child=e===null?Ff(t,null,n,r):yr(t,e.child,n,r)}function _u(e,t,n,r,s){n=n.render;var i=t.ref;return fr(t,s),r=Qa(e,t,n,r,i,s),n=Ya(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(he&&n&&Ua(t),t.flags|=1,He(e,t,r,s),t.child)}function bu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!oc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,dp(e,t,i,r,s)):(e=di(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:us,n(o,r)&&e.ref===t.ref)return Qt(e,t,s)}return t.flags|=1,e=yn(i,r),e.ref=t.ref,e.return=t,t.child=e}function dp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(us(i,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Qt(e,t,s)}return $l(e,t,n,r,s)}function fp(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(lr,tt),tt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(lr,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(lr,tt),tt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(lr,tt),tt|=r;return He(e,t,s,n),t.child}function pp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $l(e,t,n,r,s){var i=Ye(n)?Fn:$e.current;return i=mr(t,i),fr(t,s),n=Qa(e,t,n,r,i,s),r=Ya(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qt(e,t,s)):(he&&r&&Ua(t),t.flags|=1,He(e,t,n,s),t.child)}function Ru(e,t,n,r,s){if(Ye(n)){var i=!0;Ti(t)}else i=!1;if(fr(t,s),t.stateNode===null)ai(e,t),ap(t,n,r),Dl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gt(u):(u=Ye(n)?Fn:$e.current,u=mr(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&ku(t,o,r,u),tn=!1;var y=t.memoizedState;o.state=y,Mi(t,r,o,s),c=t.memoizedState,a!==r||y!==c||Qe.current||tn?(typeof f=="function"&&(Ul(t,n,f,r),c=t.memoizedState),(a=tn||Nu(t,n,a,r,y,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zf(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:St(t.type,a),o.props=u,d=t.pendingProps,y=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=gt(c):(c=Ye(n)?Fn:$e.current,c=mr(t,c));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||y!==c)&&ku(t,o,r,c),tn=!1,y=t.memoizedState,o.state=y,Mi(t,r,o,s);var p=t.memoizedState;a!==d||y!==p||Qe.current||tn?(typeof w=="function"&&(Ul(t,n,w,r),p=t.memoizedState),(u=tn||Nu(t,n,u,r,y,p,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return zl(e,t,n,r,i,s)}function zl(e,t,n,r,s,i){pp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&hu(t,n,!1),Qt(e,t,i);r=t.stateNode,Yg.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=yr(t,e.child,null,i),t.child=yr(t,null,a,i)):He(e,t,a,i),t.memoizedState=r.state,s&&hu(t,n,!0),t.child}function hp(e){var t=e.stateNode;t.pendingContext?pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pu(e,t.context,!1),Wa(e,t.containerInfo)}function Tu(e,t,n,r,s){return gr(),Fa(s),t.flags|=256,He(e,t,n,r),t.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function Hl(e){return{baseLanes:e,cachePool:null,transitions:null}}function mp(e,t,n){var r=t.pendingProps,s=me.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(me,s&1),e===null)return Ml(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=co(o,r,0,null),e=Un(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Hl(n),t.memoizedState=Bl,e):Za(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Xg(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=yn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yn(a,i):(i=Un(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Hl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Bl,r}return i=e.child,e=i.sibling,r=yn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Za(e,t){return t=co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qs(e,t,n,r){return r!==null&&Fa(r),yr(t,e.child,null,n),e=Za(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xg(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ko(Error(I(422))),qs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=co({mode:"visible",children:r.children},s,0,null),i=Un(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&yr(t,e.child,null,o),t.child.memoizedState=Hl(o),t.memoizedState=Bl,i);if(!(t.mode&1))return qs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(I(419)),r=Ko(i,r,void 0),qs(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ke||a){if(r=Ae,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Kt(e,s),Ct(r,e,s,-1))}return ic(),r=Ko(Error(I(421))),qs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=u0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,rt=pn(s.nextSibling),st=t,he=!0,Et=null,e!==null&&(ut[dt++]=Ht,ut[dt++]=Vt,ut[dt++]=$n,Ht=e.id,Vt=e.overflow,$n=t),t=Za(t,r.children),t.flags|=4096,t)}function Au(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ll(e.return,t,n)}function Qo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function gp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(He(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Au(e,n,t);else if(e.tag===19)Au(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Li(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Li(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qo(t,!0,n,null,i);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ai(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jg(e,t,n){switch(t.tag){case 3:hp(t),gr();break;case 5:Bf(t);break;case 1:Ye(t.type)&&Ti(t);break;case 4:Wa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(Oi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?mp(e,t,n):(ce(me,me.current&1),e=Qt(e,t,n),e!==null?e.sibling:null);ce(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,fp(e,t,n)}return Qt(e,t,n)}var yp,Vl,vp,xp;yp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vl=function(){};vp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,In(Ut.current);var i=null;switch(n){case"input":s=fl(e,s),r=fl(e,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=ml(e,s),r=ml(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bi)}yl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};xp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Lr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zg(e,t,n){var r=t.pendingProps;switch(Da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ye(t.type)&&Ri(),Le(t),null;case 3:return r=t.stateNode,vr(),fe(Qe),fe($e),Ga(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(Jl(Et),Et=null))),Vl(e,t),Le(t),null;case 5:qa(t);var s=In(ms.current);if(n=t.type,e!==null&&t.stateNode!=null)vp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Le(t),null}if(e=In(Ut.current),Vs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[It]=t,r[ps]=i,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<Hr.length;s++)de(Hr[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":$c(r,i),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},de("invalid",r);break;case"textarea":Bc(r,i),de("invalid",r)}yl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Hs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Hs(r.textContent,a,e),s=["children",""+a]):rs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Ms(r),zc(r,i,!0);break;case"textarea":Ms(r),Hc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=bi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[It]=t,e[ps]=r,yp(e,t,!1,!1),t.stateNode=e;e:{switch(o=vl(n,r),n){case"dialog":de("cancel",e),de("close",e),s=r;break;case"iframe":case"object":case"embed":de("load",e),s=r;break;case"video":case"audio":for(s=0;s<Hr.length;s++)de(Hr[s],e);s=r;break;case"source":de("error",e),s=r;break;case"img":case"image":case"link":de("error",e),de("load",e),s=r;break;case"details":de("toggle",e),s=r;break;case"input":$c(e,r),s=fl(e,r),de("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":Bc(e,r),s=ml(e,r),de("invalid",e);break;default:s=r}yl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Qd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ss(e,c):typeof c=="number"&&ss(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&de("scroll",e):c!=null&&ka(e,i,c,o))}switch(n){case"input":Ms(e),zc(e,r,!1);break;case"textarea":Ms(e),Hc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ar(e,!!r.multiple,i,!1):r.defaultValue!=null&&ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)xp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=In(ms.current),In(Ut.current),Vs(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(i=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:Hs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return Le(t),null;case 13:if(fe(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&rt!==null&&t.mode&1&&!(t.flags&128))Uf(),gr(),t.flags|=98560,i=!1;else if(i=Vs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[It]=t}else gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else Et!==null&&(Jl(Et),Et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?be===0&&(be=3):ic())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return vr(),Vl(e,t),e===null&&ds(t.stateNode.containerInfo),Le(t),null;case 10:return Ba(t.type._context),Le(t),null;case 17:return Ye(t.type)&&Ri(),Le(t),null;case 19:if(fe(me),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Lr(i,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Li(e),o!==null){for(t.flags|=128,Lr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Se()>wr&&(t.flags|=128,r=!0,Lr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Li(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return Le(t),null}else 2*Se()-i.renderingStartTime>wr&&n!==1073741824&&(t.flags|=128,r=!0,Lr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Se(),t.sibling=null,n=me.current,ce(me,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return sc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function e0(e,t){switch(Da(t),t.tag){case 1:return Ye(t.type)&&Ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vr(),fe(Qe),fe($e),Ga(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qa(t),null;case 13:if(fe(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(me),null;case 4:return vr(),null;case 10:return Ba(t.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var Gs=!1,De=!1,t0=typeof WeakSet=="function"?WeakSet:Set,H=null;function or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Wl(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Pu=!1;function n0(e,t){if(bl=ji,e=Ef(),La(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,f=0,d=e,y=null;t:for(;;){for(var w;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(w=d.firstChild)!==null;)y=d,d=w;for(;;){if(d===e)break t;if(y===n&&++u===s&&(a=o),y===i&&++f===r&&(c=o),(w=d.nextSibling)!==null)break;d=y,y=d.parentNode}d=w}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rl={focusedElem:e,selectionRange:n},ji=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,k=p.memoizedState,v=t.stateNode,h=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:St(t.type,g),k);v.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(_){xe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return p=Pu,Pu=!1,p}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wl(t,n,i)}s=s.next}while(s!==r)}}function lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ql(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wp(e){var t=e.alternate;t!==null&&(e.alternate=null,wp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[ps],delete t[Pl],delete t[Dg],delete t[Fg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sp(e){return e.tag===5||e.tag===3||e.tag===4}function Ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bi));else if(r!==4&&(e=e.child,e!==null))for(Gl(e,t,n),e=e.sibling;e!==null;)Gl(e,t,n),e=e.sibling}function Kl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Kl(e,t,n),e=e.sibling;e!==null;)Kl(e,t,n),e=e.sibling}var Pe=null,Nt=!1;function Zt(e,t,n){for(n=n.child;n!==null;)Np(e,t,n),n=n.sibling}function Np(e,t,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Zi,n)}catch{}switch(n.tag){case 5:De||or(n,t);case 6:var r=Pe,s=Nt;Pe=null,Zt(e,t,n),Pe=r,Nt=s,Pe!==null&&(Nt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(Nt?(e=Pe,n=n.stateNode,e.nodeType===8?Bo(e.parentNode,n):e.nodeType===1&&Bo(e,n),as(e)):Bo(Pe,n.stateNode));break;case 4:r=Pe,s=Nt,Pe=n.stateNode.containerInfo,Nt=!0,Zt(e,t,n),Pe=r,Nt=s;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wl(n,t,o),s=s.next}while(s!==r)}Zt(e,t,n);break;case 1:if(!De&&(or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}Zt(e,t,n);break;case 21:Zt(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,Zt(e,t,n),De=r):Zt(e,t,n);break;default:Zt(e,t,n)}}function Iu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new t0),t.forEach(function(r){var s=d0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,Nt=!1;break e;case 3:Pe=a.stateNode.containerInfo,Nt=!0;break e;case 4:Pe=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Pe===null)throw Error(I(160));Np(i,o,s),Pe=null,Nt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kp(t,e),t=t.sibling}function kp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),At(e),r&4){try{Xr(3,e,e.return),lo(3,e)}catch(g){xe(e,e.return,g)}try{Xr(5,e,e.return)}catch(g){xe(e,e.return,g)}}break;case 1:xt(t,e),At(e),r&512&&n!==null&&or(n,n.return);break;case 5:if(xt(t,e),At(e),r&512&&n!==null&&or(n,n.return),e.flags&32){var s=e.stateNode;try{ss(s,"")}catch(g){xe(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vd(s,i),vl(a,o);var u=vl(a,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?Qd(s,d):f==="dangerouslySetInnerHTML"?Gd(s,d):f==="children"?ss(s,d):ka(s,f,d,u)}switch(a){case"input":pl(s,i);break;case"textarea":Wd(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?ar(s,!!i.multiple,w,!1):y!==!!i.multiple&&(i.defaultValue!=null?ar(s,!!i.multiple,i.defaultValue,!0):ar(s,!!i.multiple,i.multiple?[]:"",!1))}s[ps]=i}catch(g){xe(e,e.return,g)}}break;case 6:if(xt(t,e),At(e),r&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){xe(e,e.return,g)}}break;case 3:if(xt(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{as(t.containerInfo)}catch(g){xe(e,e.return,g)}break;case 4:xt(t,e),At(e);break;case 13:xt(t,e),At(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nc=Se())),r&4&&Iu(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(De=(u=De)||f,xt(t,e),De=u):xt(t,e),At(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(H=e,f=e.child;f!==null;){for(d=H=f;H!==null;){switch(y=H,w=y.child,y.tag){case 0:case 11:case 14:case 15:Xr(4,y,y.return);break;case 1:or(y,y.return);var p=y.stateNode;if(typeof p.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){xe(r,n,g)}}break;case 5:or(y,y.return);break;case 22:if(y.memoizedState!==null){Lu(d);continue}}w!==null?(w.return=y,H=w):Lu(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Kd("display",o))}catch(g){xe(e,e.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xe(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xt(t,e),At(e),r&4&&Iu(e);break;case 21:break;default:xt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sp(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ss(s,""),r.flags&=-33);var i=Ou(e);Kl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ou(e);Gl(e,a,o);break;default:throw Error(I(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r0(e,t,n){H=e,Ep(e)}function Ep(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gs;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||De;a=Gs;var u=De;if(Gs=o,(De=c)&&!u)for(H=s;H!==null;)o=H,c=o.child,o.tag===22&&o.memoizedState!==null?Uu(s):c!==null?(c.return=o,H=c):Uu(s);for(;i!==null;)H=i,Ep(i),i=i.sibling;H=s,Gs=a,De=u}Mu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):Mu(e)}}function Mu(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||lo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xu(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&as(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}De||t.flags&512&&ql(t)}catch(y){xe(t,t.return,y)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Lu(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Uu(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{lo(4,t)}catch(c){xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){xe(t,s,c)}}var i=t.return;try{ql(t)}catch(c){xe(t,i,c)}break;case 5:var o=t.return;try{ql(t)}catch(c){xe(t,o,c)}}}catch(c){xe(t,t.return,c)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var s0=Math.ceil,Fi=Xt.ReactCurrentDispatcher,ec=Xt.ReactCurrentOwner,mt=Xt.ReactCurrentBatchConfig,ee=0,Ae=null,ke=null,Oe=0,tt=0,lr=jn(0),be=0,xs=null,Bn=0,ao=0,tc=0,Jr=null,Ge=null,nc=0,wr=1/0,zt=null,$i=!1,Ql=null,mn=null,Ks=!1,ln=null,zi=0,Zr=0,Yl=null,ci=-1,ui=0;function Ve(){return ee&6?Se():ci!==-1?ci:ci=Se()}function gn(e){return e.mode&1?ee&2&&Oe!==0?Oe&-Oe:zg.transition!==null?(ui===0&&(ui=af()),ui):(e=se,e!==0||(e=window.event,e=e===void 0?16:mf(e.type)),e):1}function Ct(e,t,n,r){if(50<Zr)throw Zr=0,Yl=null,Error(I(185));Es(e,n,r),(!(ee&2)||e!==Ae)&&(e===Ae&&(!(ee&2)&&(ao|=n),be===4&&rn(e,Oe)),Xe(e,r),n===1&&ee===0&&!(t.mode&1)&&(wr=Se()+500,so&&Cn()))}function Xe(e,t){var n=e.callbackNode;zm(e,t);var r=Ei(e,e===Ae?Oe:0);if(r===0)n!==null&&qc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qc(n),t===1)e.tag===0?$g(Du.bind(null,e)):If(Du.bind(null,e)),Lg(function(){!(ee&6)&&Cn()}),n=null;else{switch(cf(r)){case 1:n=ba;break;case 4:n=of;break;case 16:n=ki;break;case 536870912:n=lf;break;default:n=ki}n=Pp(n,jp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jp(e,t){if(ci=-1,ui=0,ee&6)throw Error(I(327));var n=e.callbackNode;if(pr()&&e.callbackNode!==n)return null;var r=Ei(e,e===Ae?Oe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bi(e,r);else{t=r;var s=ee;ee|=2;var i=_p();(Ae!==e||Oe!==t)&&(zt=null,wr=Se()+500,Ln(e,t));do try{l0();break}catch(a){Cp(e,a)}while(1);za(),Fi.current=i,ee=s,ke!==null?t=0:(Ae=null,Oe=0,t=be)}if(t!==0){if(t===2&&(s=kl(e),s!==0&&(r=s,t=Xl(e,s))),t===1)throw n=xs,Ln(e,0),rn(e,r),Xe(e,Se()),n;if(t===6)rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!i0(s)&&(t=Bi(e,r),t===2&&(i=kl(e),i!==0&&(r=i,t=Xl(e,i))),t===1))throw n=xs,Ln(e,0),rn(e,r),Xe(e,Se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:An(e,Ge,zt);break;case 3:if(rn(e,r),(r&130023424)===r&&(t=nc+500-Se(),10<t)){if(Ei(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Al(An.bind(null,e,Ge,zt),t);break}An(e,Ge,zt);break;case 4:if(rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-jt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s0(r/1960))-r,10<r){e.timeoutHandle=Al(An.bind(null,e,Ge,zt),r);break}An(e,Ge,zt);break;case 5:An(e,Ge,zt);break;default:throw Error(I(329))}}}return Xe(e,Se()),e.callbackNode===n?jp.bind(null,e):null}function Xl(e,t){var n=Jr;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Bi(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&Jl(t)),e}function Jl(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function i0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~tc,t&=~ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function Du(e){if(ee&6)throw Error(I(327));pr();var t=Ei(e,0);if(!(t&1))return Xe(e,Se()),null;var n=Bi(e,t);if(e.tag!==0&&n===2){var r=kl(e);r!==0&&(t=r,n=Xl(e,r))}if(n===1)throw n=xs,Ln(e,0),rn(e,t),Xe(e,Se()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,Ge,zt),Xe(e,Se()),null}function rc(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(wr=Se()+500,so&&Cn())}}function Hn(e){ln!==null&&ln.tag===0&&!(ee&6)&&pr();var t=ee;ee|=1;var n=mt.transition,r=se;try{if(mt.transition=null,se=1,e)return e()}finally{se=r,mt.transition=n,ee=t,!(ee&6)&&Cn()}}function sc(){tt=lr.current,fe(lr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mg(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Da(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ri();break;case 3:vr(),fe(Qe),fe($e),Ga();break;case 5:qa(r);break;case 4:vr();break;case 13:fe(me);break;case 19:fe(me);break;case 10:Ba(r.type._context);break;case 22:case 23:sc()}n=n.return}if(Ae=e,ke=e=yn(e.current,null),Oe=tt=t,be=0,xs=null,tc=ao=Bn=0,Ge=Jr=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}On=null}return e}function Cp(e,t){do{var n=ke;try{if(za(),oi.current=Di,Ui){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ui=!1}if(zn=0,Te=_e=ge=null,Yr=!1,gs=0,ec.current=null,n===null||n.return===null){be=1,xs=t,ke=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Oe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=ju(o);if(w!==null){w.flags&=-257,Cu(w,o,a,i,t),w.mode&1&&Eu(i,u,t),t=w,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){Eu(i,u,t),ic();break e}c=Error(I(426))}}else if(he&&a.mode&1){var k=ju(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Cu(k,o,a,i,t),Fa(xr(c,a));break e}}i=c=xr(c,a),be!==4&&(be=2),Jr===null?Jr=[i]:Jr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=cp(i,c,t);vu(i,v);break e;case 1:a=c;var h=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(mn===null||!mn.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=up(i,a,t);vu(i,_);break e}}i=i.return}while(i!==null)}Rp(n)}catch(A){t=A,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(1)}function _p(){var e=Fi.current;return Fi.current=Di,e===null?Di:e}function ic(){(be===0||be===3||be===2)&&(be=4),Ae===null||!(Bn&268435455)&&!(ao&268435455)||rn(Ae,Oe)}function Bi(e,t){var n=ee;ee|=2;var r=_p();(Ae!==e||Oe!==t)&&(zt=null,Ln(e,t));do try{o0();break}catch(s){Cp(e,s)}while(1);if(za(),ee=n,Fi.current=r,ke!==null)throw Error(I(261));return Ae=null,Oe=0,be}function o0(){for(;ke!==null;)bp(ke)}function l0(){for(;ke!==null&&!Pm();)bp(ke)}function bp(e){var t=Ap(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Rp(e):ke=t,ec.current=null}function Rp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=e0(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ke=null;return}}else if(n=Zg(n,t,tt),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);be===0&&(be=5)}function An(e,t,n){var r=se,s=mt.transition;try{mt.transition=null,se=1,a0(e,t,n,r)}finally{mt.transition=s,se=r}return null}function a0(e,t,n,r){do pr();while(ln!==null);if(ee&6)throw Error(I(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bm(e,i),e===Ae&&(ke=Ae=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,Pp(ki,function(){return pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mt.transition,mt.transition=null;var o=se;se=1;var a=ee;ee|=4,ec.current=null,n0(e,n),kp(n,e),bg(Rl),ji=!!bl,Rl=bl=null,e.current=n,r0(n),Om(),ee=a,se=o,mt.transition=i}else e.current=n;if(Ks&&(Ks=!1,ln=e,zi=s),i=e.pendingLanes,i===0&&(mn=null),Lm(n.stateNode),Xe(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($i)throw $i=!1,e=Ql,Ql=null,e;return zi&1&&e.tag!==0&&pr(),i=e.pendingLanes,i&1?e===Yl?Zr++:(Zr=0,Yl=e):Zr=0,Cn(),null}function pr(){if(ln!==null){var e=cf(zi),t=mt.transition,n=se;try{if(mt.transition=null,se=16>e?16:e,ln===null)var r=!1;else{if(e=ln,ln=null,zi=0,ee&6)throw Error(I(331));var s=ee;for(ee|=4,H=e.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(H=u;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:Xr(8,f,i)}var d=f.child;if(d!==null)d.return=f,H=d;else for(;H!==null;){f=H;var y=f.sibling,w=f.return;if(wp(f),f===u){H=null;break}if(y!==null){y.return=w,H=y;break}H=w}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var k=g.sibling;g.sibling=null,g=k}while(g!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xr(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,H=v;break e}H=i.return}}var h=e.current;for(H=h;H!==null;){o=H;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,H=m;else e:for(o=h;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lo(9,a)}}catch(A){xe(a,a.return,A)}if(a===o){H=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,H=_;break e}H=a.return}}if(ee=s,Cn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Zi,e)}catch{}r=!0}return r}finally{se=n,mt.transition=t}}return!1}function Fu(e,t,n){t=xr(n,t),t=cp(e,t,1),e=hn(e,t,1),t=Ve(),e!==null&&(Es(e,1,t),Xe(e,t))}function xe(e,t,n){if(e.tag===3)Fu(e,e,n);else for(;t!==null;){if(t.tag===3){Fu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){e=xr(n,e),e=up(t,e,1),t=hn(t,e,1),e=Ve(),t!==null&&(Es(t,1,e),Xe(t,e));break}}t=t.return}}function c0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&(Oe&n)===n&&(be===4||be===3&&(Oe&130023424)===Oe&&500>Se()-nc?Ln(e,0):tc|=n),Xe(e,t)}function Tp(e,t){t===0&&(e.mode&1?(t=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):t=1);var n=Ve();e=Kt(e,t),e!==null&&(Es(e,t,n),Xe(e,n))}function u0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tp(e,n)}function d0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Tp(e,n)}var Ap;Ap=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,Jg(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,he&&t.flags&1048576&&Mf(t,Pi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ai(e,t),e=t.pendingProps;var s=mr(t,$e.current);fr(t,n),s=Qa(null,t,r,e,s,n);var i=Ya();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(i=!0,Ti(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Va(t),s.updater=oo,t.stateNode=s,s._reactInternals=t,Dl(t,r,e,n),t=zl(null,t,r,!0,i,n)):(t.tag=0,he&&i&&Ua(t),He(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ai(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=p0(r),e=St(r,e),s){case 0:t=$l(null,t,r,e,n);break e;case 1:t=Ru(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=bu(null,t,r,St(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),$l(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Ru(e,t,r,s,n);case 3:e:{if(hp(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,s=i.element,zf(e,t),Mi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=xr(Error(I(423)),t),t=Tu(e,t,r,n,s);break e}else if(r!==s){s=xr(Error(I(424)),t),t=Tu(e,t,r,n,s);break e}else for(rt=pn(t.stateNode.containerInfo.firstChild),st=t,he=!0,Et=null,n=Ff(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),r===s){t=Qt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return Bf(t),e===null&&Ml(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Tl(r,s)?o=null:i!==null&&Tl(r,i)&&(t.flags|=32),pp(e,t),He(e,t,o,n),t.child;case 6:return e===null&&Ml(t),null;case 13:return mp(e,t,n);case 4:return Wa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),_u(e,t,r,s,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ce(Oi,r._currentValue),r._currentValue=o,i!==null)if(bt(i.value,o)){if(i.children===s.children&&!Qe.current){t=Qt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Wt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ll(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ll(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}He(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fr(t,n),s=gt(s),r=r(s),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,s=St(r,t.pendingProps),s=St(r.type,s),bu(e,t,r,s,n);case 15:return dp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),ai(e,t),t.tag=1,Ye(r)?(e=!0,Ti(t)):e=!1,fr(t,n),ap(t,r,s),Dl(t,r,s,n),zl(null,t,r,!0,e,n);case 19:return gp(e,t,n);case 22:return fp(e,t,n)}throw Error(I(156,t.tag))};function Pp(e,t){return sf(e,t)}function f0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new f0(e,t,n,r)}function oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p0(e){if(typeof e=="function")return oc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ja)return 11;if(e===Ca)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function di(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")oc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xn:return Un(n.children,s,i,t);case Ea:o=8,s|=8;break;case al:return e=ht(12,n,t,s|2),e.elementType=al,e.lanes=i,e;case cl:return e=ht(13,n,t,s),e.elementType=cl,e.lanes=i,e;case ul:return e=ht(19,n,t,s),e.elementType=ul,e.lanes=i,e;case zd:return co(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fd:o=10;break e;case $d:o=9;break e;case ja:o=11;break e;case Ca:o=14;break e;case en:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=ht(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Un(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function co(e,t,n,r){return e=ht(22,e,r,t),e.elementType=zd,e.lanes=n,e.stateNode={isHidden:!1},e}function Yo(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function Xo(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lc(e,t,n,r,s,i,o,a,c){return e=new h0(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ht(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(i),e}function m0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Op(e){if(!e)return Nn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(Ye(n))return Of(e,n,t)}return t}function Ip(e,t,n,r,s,i,o,a,c){return e=lc(n,r,!0,e,s,i,o,a,c),e.context=Op(null),n=e.current,r=Ve(),s=gn(n),i=Wt(r,s),i.callback=t??null,hn(n,i,s),e.current.lanes=s,Es(e,s,r),Xe(e,r),e}function uo(e,t,n,r){var s=t.current,i=Ve(),o=gn(s);return n=Op(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hn(s,t,o),e!==null&&(Ct(e,s,o,i),ii(e,s,o)),o}function Hi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ac(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function g0(){return null}var Mp=typeof reportError=="function"?reportError:function(e){console.error(e)};function cc(e){this._internalRoot=e}fo.prototype.render=cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));uo(e,t,null,null)};fo.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){uo(null,e,null,null)}),t[Gt]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ff();e={blockedOn:null,target:e,priority:t};for(var n=0;n<nn.length&&t!==0&&t<nn[n].priority;n++);nn.splice(n,0,e),n===0&&hf(e)}};function uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zu(){}function y0(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Hi(o);i.call(u)}}var o=Ip(t,r,e,0,null,!1,!1,"",zu);return e._reactRootContainer=o,e[Gt]=o.current,ds(e.nodeType===8?e.parentNode:e),Hn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Hi(c);a.call(u)}}var c=lc(e,0,!1,null,null,!1,!1,"",zu);return e._reactRootContainer=c,e[Gt]=c.current,ds(e.nodeType===8?e.parentNode:e),Hn(function(){uo(t,c,n,r)}),c}function ho(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Hi(o);a.call(c)}}uo(t,o,e,s)}else o=y0(n,t,e,s,r);return Hi(o)}uf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Br(t.pendingLanes);n!==0&&(Ra(t,n|1),Xe(t,Se()),!(ee&6)&&(wr=Se()+500,Cn()))}break;case 13:Hn(function(){var r=Kt(e,1);if(r!==null){var s=Ve();Ct(r,e,1,s)}}),ac(e,1)}};Ta=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var n=Ve();Ct(t,e,134217728,n)}ac(e,134217728)}};df=function(e){if(e.tag===13){var t=gn(e),n=Kt(e,t);if(n!==null){var r=Ve();Ct(n,e,t,r)}ac(e,t)}};ff=function(){return se};pf=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};wl=function(e,t,n){switch(t){case"input":if(pl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ro(r);if(!s)throw Error(I(90));Hd(r),pl(r,s)}}}break;case"textarea":Wd(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};Jd=rc;Zd=Hn;var v0={usingClientEntryPoint:!1,Events:[Cs,tr,ro,Yd,Xd,rc]},Ur={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x0={bundleType:Ur.bundleType,version:Ur.version,rendererPackageName:Ur.rendererPackageName,rendererConfig:Ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ur.findFiberByHostInstance||g0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Zi=Qs.inject(x0),Lt=Qs}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v0;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uc(t))throw Error(I(200));return m0(e,t,null,n)};ot.createRoot=function(e,t){if(!uc(e))throw Error(I(299));var n=!1,r="",s=Mp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lc(e,1,!1,null,null,n,!1,r,s),e[Gt]=t.current,ds(e.nodeType===8?e.parentNode:e),new cc(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=nf(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return Hn(e)};ot.hydrate=function(e,t,n){if(!po(t))throw Error(I(200));return ho(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!uc(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Mp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ip(t,null,e,1,n??null,s,!1,i,o),e[Gt]=t.current,ds(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fo(t)};ot.render=function(e,t,n){if(!po(t))throw Error(I(200));return ho(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!po(e))throw Error(I(40));return e._reactRootContainer?(Hn(function(){ho(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};ot.unstable_batchedUpdates=rc;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!po(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return ho(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function Lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lp)}catch(e){console.error(e)}}Lp(),Md.exports=ot;var w0=Md.exports,Bu=w0;ol.createRoot=Bu.createRoot,ol.hydrateRoot=Bu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(this,arguments)}var an;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(an||(an={}));const Hu="popstate";function S0(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Zl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vi(s)}return k0(t,n,null,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Up(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N0(){return Math.random().toString(36).substr(2,8)}function Vu(e,t){return{usr:e.state,key:e.key,idx:t}}function Zl(e,t,n,r){return n===void 0&&(n=null),ws({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jr(t):t,{state:n,key:t&&t.key||r||N0()})}function Vi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function jr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function k0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=an.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(ws({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=an.Pop;let k=f(),v=k==null?null:k-u;u=k,c&&c({action:a,location:g.location,delta:v})}function y(k,v){a=an.Push;let h=Zl(g.location,k,v);n&&n(h,k),u=f()+1;let m=Vu(h,u),_=g.createHref(h);try{o.pushState(m,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(_)}i&&c&&c({action:a,location:g.location,delta:1})}function w(k,v){a=an.Replace;let h=Zl(g.location,k,v);n&&n(h,k),u=f();let m=Vu(h,u),_=g.createHref(h);o.replaceState(m,"",_),i&&c&&c({action:a,location:g.location,delta:0})}function p(k){let v=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof k=="string"?k:Vi(k);return h=h.replace(/ $/,"%20"),Ne(v,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,v)}let g={get action(){return a},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Hu,d),c=k,()=>{s.removeEventListener(Hu,d),c=null}},createHref(k){return t(s,k)},createURL:p,encodeLocation(k){let v=p(k);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:y,replace:w,go(k){return o.go(k)}};return g}var Wu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wu||(Wu={}));function E0(e,t,n){return n===void 0&&(n="/"),j0(e,t,n,!1)}function j0(e,t,n,r){let s=typeof t=="string"?jr(t):t,i=dc(s.pathname||"/",n);if(i==null)return null;let o=Dp(e);C0(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=U0(i);a=M0(o[c],u,r)}return a}function Dp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ne(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=vn([r,c.relativePath]),f=n.concat(c);i.children&&i.children.length>0&&(Ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Dp(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:O0(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Fp(i.path))s(i,o,c)}),t}function Fp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Fp(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function C0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:I0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _0=/^:[\w-]+$/,b0=3,R0=2,T0=1,A0=10,P0=-2,qu=e=>e==="*";function O0(e,t){let n=e.split("/"),r=n.length;return n.some(qu)&&(r+=P0),t&&(r+=R0),n.filter(s=>!qu(s)).reduce((s,i)=>s+(_0.test(i)?b0:i===""?T0:A0),r)}function I0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function M0(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Gu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),y=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Gu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:vn([i,d.pathname]),pathnameBase:z0(vn([i,d.pathnameBase])),route:y}),d.pathnameBase!=="/"&&(i=vn([i,d.pathnameBase]))}return o}function Gu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=L0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:y,isOptional:w}=f;if(y==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return w&&!p?u[y]=void 0:u[y]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function L0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Up(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function U0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Up(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function D0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?jr(e):e;return{pathname:n?n.startsWith("/")?n:F0(n,t):t,search:B0(r),hash:H0(s)}}function F0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function fc(e,t){let n=$0(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=jr(e):(s=ws({},e),Ne(!s.pathname||!s.pathname.includes("?"),Jo("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),Jo("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),Jo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),d-=1;s.pathname=y.join("/")}a=d>=0?t[d]:"/"}let c=D0(s,a),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const vn=e=>e.join("/").replace(/\/\/+/g,"/"),z0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,H0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $p=["post","put","patch","delete"];new Set($p);const W0=["get",...$p];new Set(W0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ss.apply(this,arguments)}const hc=S.createContext(null),q0=S.createContext(null),_n=S.createContext(null),mo=S.createContext(null),bn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),zp=S.createContext(null);function G0(e,t){let{relative:n}=t===void 0?{}:t;Cr()||Ne(!1);let{basename:r,navigator:s}=S.useContext(_n),{hash:i,pathname:o,search:a}=Vp(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:vn([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Cr(){return S.useContext(mo)!=null}function bs(){return Cr()||Ne(!1),S.useContext(mo).location}function Bp(e){S.useContext(_n).static||S.useLayoutEffect(e)}function Hp(){let{isDataRoute:e}=S.useContext(bn);return e?oy():K0()}function K0(){Cr()||Ne(!1);let e=S.useContext(hc),{basename:t,future:n,navigator:r}=S.useContext(_n),{matches:s}=S.useContext(bn),{pathname:i}=bs(),o=JSON.stringify(fc(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return Bp(()=>{a.current=!0}),S.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=pc(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:vn([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,o,i,e])}function Vp(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(_n),{matches:s}=S.useContext(bn),{pathname:i}=bs(),o=JSON.stringify(fc(s,r.v7_relativeSplatPath));return S.useMemo(()=>pc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Q0(e,t){return Y0(e,t)}function Y0(e,t,n,r){Cr()||Ne(!1);let{navigator:s}=S.useContext(_n),{matches:i}=S.useContext(bn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=bs(),f;if(t){var d;let k=typeof t=="string"?jr(t):t;c==="/"||(d=k.pathname)!=null&&d.startsWith(c)||Ne(!1),f=k}else f=u;let y=f.pathname||"/",w=y;if(c!=="/"){let k=c.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let p=E0(e,{pathname:w}),g=ty(p&&p.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:vn([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:vn([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return t&&g?S.createElement(mo.Provider,{value:{location:Ss({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:an.Pop}},g):g}function X0(){let e=iy(),t=V0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,i)}const J0=S.createElement(X0,null);class Z0 extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(bn.Provider,{value:this.props.routeContext},S.createElement(zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ey(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(hc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(bn.Provider,{value:t},r)}function ty(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||Ne(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:y,errors:w}=n,p=d.route.loader&&y[d.route.id]===void 0&&(!w||w[d.route.id]===void 0);if(d.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,y)=>{let w,p=!1,g=null,k=null;n&&(w=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||J0,c&&(u<0&&y===0?(ly("route-fallback",!1),p=!0,k=null):u===y&&(p=!0,k=d.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,y+1)),h=()=>{let m;return w?m=g:p?m=k:d.route.Component?m=S.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=f,S.createElement(ey,{match:d,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:m})};return n&&(d.route.ErrorBoundary||d.route.errorElement||y===0)?S.createElement(Z0,{location:n.location,revalidation:n.revalidation,component:g,error:w,children:h(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):h()},null)}var Wp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wp||{}),Wi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wi||{});function ny(e){let t=S.useContext(hc);return t||Ne(!1),t}function ry(e){let t=S.useContext(q0);return t||Ne(!1),t}function sy(e){let t=S.useContext(bn);return t||Ne(!1),t}function qp(e){let t=sy(),n=t.matches[t.matches.length-1];return n.route.id||Ne(!1),n.route.id}function iy(){var e;let t=S.useContext(zp),n=ry(Wi.UseRouteError),r=qp(Wi.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function oy(){let{router:e}=ny(Wp.UseNavigateStable),t=qp(Wi.UseNavigateStable),n=S.useRef(!1);return Bp(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ss({fromRouteId:t},i)))},[e,t])}const Ku={};function ly(e,t,n){!t&&!Ku[e]&&(Ku[e]=!0)}function ay(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function es(e){let{to:t,replace:n,state:r,relative:s}=e;Cr()||Ne(!1);let{future:i,static:o}=S.useContext(_n),{matches:a}=S.useContext(bn),{pathname:c}=bs(),u=Hp(),f=pc(t,fc(a,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return S.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function wt(e){Ne(!1)}function cy(e){let{basename:t="/",children:n=null,location:r,navigationType:s=an.Pop,navigator:i,static:o=!1,future:a}=e;Cr()&&Ne(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:o,future:Ss({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=jr(r));let{pathname:f="/",search:d="",hash:y="",state:w=null,key:p="default"}=r,g=S.useMemo(()=>{let k=dc(f,c);return k==null?null:{location:{pathname:k,search:d,hash:y,state:w,key:p},navigationType:s}},[c,f,d,y,w,p,s]);return g==null?null:S.createElement(_n.Provider,{value:u},S.createElement(mo.Provider,{children:n,value:g}))}function Qu(e){let{children:t,location:n}=e;return Q0(ea(t),n)}new Promise(()=>{});function ea(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,ea(r.props.children,i));return}r.type!==wt&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ea(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ta.apply(this,arguments)}function uy(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function dy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fy(e,t){return e.button===0&&(!t||t==="_self")&&!dy(e)}const py=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hy="6";try{window.__reactRouterVersion=hy}catch{}const my="startTransition",Yu=cm[my];function gy(e){let{basename:t,children:n,future:r,window:s}=e,i=S.useRef();i.current==null&&(i.current=S0({window:s,v5Compat:!0}));let o=i.current,[a,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=S.useCallback(d=>{u&&Yu?Yu(()=>c(d)):c(d)},[c,u]);return S.useLayoutEffect(()=>o.listen(f),[o,f]),S.useEffect(()=>ay(r),[r]),S.createElement(cy,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const yy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=S.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,y=uy(t,py),{basename:w}=S.useContext(_n),p,g=!1;if(typeof u=="string"&&vy.test(u)&&(p=u,yy))try{let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),A=dc(_.pathname,w);_.origin===m.origin&&A!=null?u=A+_.search+_.hash:g=!0}catch{}let k=G0(u,{relative:s}),v=xy(u,{replace:o,state:a,target:c,preventScrollReset:f,relative:s,viewTransition:d});function h(m){r&&r(m),m.defaultPrevented||v(m)}return S.createElement("a",ta({},y,{href:p||k,onClick:g||i?r:h,ref:n,target:c}))});var Xu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xu||(Xu={}));var Ju;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ju||(Ju={}));function xy(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Hp(),u=bs(),f=Vp(e,{relative:o});return S.useCallback(d=>{if(fy(d,n)){d.preventDefault();let y=r!==void 0?r:Vi(u)===Vi(f);c(e,{replace:y,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,f,r,s,n,e,i,o,a])}let wy={data:""},Sy=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||wy,Ny=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ky=/\/\*[^]*?\*\/|  +/g,Zu=/\n+/g,sn=(e,t)=>{let n="",r="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?sn(o,i):i+"{"+sn(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=sn(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,a):a?a+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=sn.p?sn.p(i,o):i+":"+o+";")}return n+(t&&s?t+"{"+s+"}":s)+r},$t={},Gp=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Gp(e[n]);return t}return e},Ey=(e,t,n,r,s)=>{let i=Gp(e),o=$t[i]||($t[i]=(c=>{let u=0,f=11;for(;u<c.length;)f=101*f+c.charCodeAt(u++)>>>0;return"go"+f})(i));if(!$t[o]){let c=i!==e?e:(u=>{let f,d,y=[{}];for(;f=Ny.exec(u.replace(ky,""));)f[4]?y.shift():f[3]?(d=f[3].replace(Zu," ").trim(),y.unshift(y[0][d]=y[0][d]||{})):y[0][f[1]]=f[2].replace(Zu," ").trim();return y[0]})(e);$t[o]=sn(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let a=n&&$t.g?$t.g:null;return n&&($t.g=$t[o]),((c,u,f,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=f?c+u.data:u.data+c)})($t[o],t,r,a),o},jy=(e,t,n)=>e.reduce((r,s,i)=>{let o=t[i];if(o&&o.call){let a=o(n),c=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=c?"."+c:a&&typeof a=="object"?a.props?"":sn(a,""):a===!1?"":a}return r+s+(o??"")},"");function go(e){let t=this||{},n=e.call?e(t.p):e;return Ey(n.unshift?n.raw?jy(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,Sy(t.target),t.g,t.o,t.k)}let Kp,na,ra;go.bind({g:1});let Yt=go.bind({k:1});function Cy(e,t,n,r){sn.p=t,Kp=e,na=n,ra=r}function Rn(e,t){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),c=a.className||s.className;n.p=Object.assign({theme:na&&na()},a),n.o=/ *go\d+/.test(c),a.className=go.apply(n,r)+(c?" "+c:""),t&&(a.ref=o);let u=e;return e[0]&&(u=a.as||e,delete a.as),ra&&u[0]&&ra(a),Kp(u,a)}return t?t(s):s}}var _y=e=>typeof e=="function",Gi=(e,t)=>_y(e)?e(t):e,by=(()=>{let e=0;return()=>(++e).toString()})(),Qp=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ry=20,mc="default",Yp=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return Yp(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},fi=[],Xp={toasts:[],pausedAt:void 0,settings:{toastLimit:Ry}},Mt={},Jp=(e,t=mc)=>{Mt[t]=Yp(Mt[t]||Xp,e),fi.forEach(([n,r])=>{n===t&&r(Mt[t])})},Zp=e=>Object.keys(Mt).forEach(t=>Jp(e,t)),Ty=e=>Object.keys(Mt).find(t=>Mt[t].toasts.some(n=>n.id===e)),yo=(e=mc)=>t=>{Jp(t,e)},Ay={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Py=(e={},t=mc)=>{let[n,r]=S.useState(Mt[t]||Xp),s=S.useRef(Mt[t]);S.useEffect(()=>(s.current!==Mt[t]&&r(Mt[t]),fi.push([t,r]),()=>{let o=fi.findIndex(([a])=>a===t);o>-1&&fi.splice(o,1)}),[t]);let i=n.toasts.map(o=>{var a,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Ay[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:i}},Oy=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||by()}),Rs=e=>(t,n)=>{let r=Oy(t,e,n);return yo(r.toasterId||Ty(r.id))({type:2,toast:r}),r.id},W=(e,t)=>Rs("blank")(e,t);W.error=Rs("error");W.success=Rs("success");W.loading=Rs("loading");W.custom=Rs("custom");W.dismiss=(e,t)=>{let n={type:3,toastId:e};t?yo(t)(n):Zp(n)};W.dismissAll=e=>W.dismiss(void 0,e);W.remove=(e,t)=>{let n={type:4,toastId:e};t?yo(t)(n):Zp(n)};W.removeAll=e=>W.remove(void 0,e);W.promise=(e,t,n)=>{let r=W.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Gi(t.success,s):void 0;return i?W.success(i,{id:r,...n,...n==null?void 0:n.success}):W.dismiss(r),s}).catch(s=>{let i=t.error?Gi(t.error,s):void 0;i?W.error(i,{id:r,...n,...n==null?void 0:n.error}):W.dismiss(r)}),e};var Iy=1e3,My=(e,t="default")=>{let{toasts:n,pausedAt:r}=Py(e,t),s=S.useRef(new Map).current,i=S.useCallback((d,y=Iy)=>{if(s.has(d))return;let w=setTimeout(()=>{s.delete(d),o({type:4,toastId:d})},y);s.set(d,w)},[]);S.useEffect(()=>{if(r)return;let d=Date.now(),y=n.map(w=>{if(w.duration===1/0)return;let p=(w.duration||0)+w.pauseDuration-(d-w.createdAt);if(p<0){w.visible&&W.dismiss(w.id);return}return setTimeout(()=>W.dismiss(w.id,t),p)});return()=>{y.forEach(w=>w&&clearTimeout(w))}},[n,r,t]);let o=S.useCallback(yo(t),[t]),a=S.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=S.useCallback((d,y)=>{o({type:1,toast:{id:d,height:y}})},[o]),u=S.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),f=S.useCallback((d,y)=>{let{reverseOrder:w=!1,gutter:p=8,defaultPosition:g}=y||{},k=n.filter(m=>(m.position||g)===(d.position||g)&&m.height),v=k.findIndex(m=>m.id===d.id),h=k.filter((m,_)=>_<v&&m.visible).length;return k.filter(m=>m.visible).slice(...w?[h+1]:[0,h]).reduce((m,_)=>m+(_.height||0)+p,0)},[n]);return S.useEffect(()=>{n.forEach(d=>{if(d.dismissed)i(d.id,d.removeDelay);else{let y=s.get(d.id);y&&(clearTimeout(y),s.delete(d.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:a,endPause:u,calculateOffset:f}}},Ly=Yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Uy=Yt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dy=Yt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Fy=Rn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ly} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Uy} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Dy} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$y=Yt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zy=Rn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$y} 1s linear infinite;
`,By=Yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Hy=Yt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Vy=Rn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${By} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Hy} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Wy=Rn("div")`
  position: absolute;
`,qy=Rn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gy=Yt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ky=Rn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gy} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Qy=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?S.createElement(Ky,null,t):t:n==="blank"?null:S.createElement(qy,null,S.createElement(zy,{...r}),n!=="loading"&&S.createElement(Wy,null,n==="error"?S.createElement(Fy,{...r}):S.createElement(Vy,{...r})))},Yy=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Xy=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Jy="0%{opacity:0;} 100%{opacity:1;}",Zy="0%{opacity:1;} 100%{opacity:0;}",ev=Rn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tv=Rn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nv=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Qp()?[Jy,Zy]:[Yy(n),Xy(n)];return{animation:t?`${Yt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rv=S.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?nv(e.position||t||"top-center",e.visible):{opacity:0},i=S.createElement(Qy,{toast:e}),o=S.createElement(tv,{...e.ariaProps},Gi(e.message,e));return S.createElement(ev,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:o}):S.createElement(S.Fragment,null,i,o))});Cy(S.createElement);var sv=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=S.useCallback(o=>{if(o){let a=()=>{let c=o.getBoundingClientRect().height;r(e,c)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return S.createElement("div",{ref:i,className:t,style:n},s)},iv=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Qp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},ov=go`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ys=16,lv=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:a})=>{let{toasts:c,handlers:u}=My(n,i);return S.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Ys,left:Ys,right:Ys,bottom:Ys,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(f=>{let d=f.position||t,y=u.calculateOffset(f,{reverseOrder:e,gutter:r,defaultPosition:t}),w=iv(d,y);return S.createElement(sv,{id:f.id,key:f.id,onHeightUpdate:u.updateHeight,className:f.visible?ov:"",style:w},f.type==="custom"?Gi(f.message,f):s?s(f):S.createElement(rv,{toast:f,position:d}))}))};function eh(e,t){return function(){return e.apply(t,arguments)}}const{toString:av}=Object.prototype,{getPrototypeOf:gc}=Object,{iterator:vo,toStringTag:th}=Symbol,xo=(e=>t=>{const n=av.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Rt=e=>(e=e.toLowerCase(),t=>xo(t)===e),wo=e=>t=>typeof t===e,{isArray:_r}=Array,Sr=wo("undefined");function Ts(e){return e!==null&&!Sr(e)&&e.constructor!==null&&!Sr(e.constructor)&&Je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nh=Rt("ArrayBuffer");function cv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nh(e.buffer),t}const uv=wo("string"),Je=wo("function"),rh=wo("number"),As=e=>e!==null&&typeof e=="object",dv=e=>e===!0||e===!1,pi=e=>{if(xo(e)!=="object")return!1;const t=gc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(th in e)&&!(vo in e)},fv=e=>{if(!As(e)||Ts(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},pv=Rt("Date"),hv=Rt("File"),mv=Rt("Blob"),gv=Rt("FileList"),yv=e=>As(e)&&Je(e.pipe),vv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Je(e.append)&&((t=xo(e))==="formdata"||t==="object"&&Je(e.toString)&&e.toString()==="[object FormData]"))},xv=Rt("URLSearchParams"),[wv,Sv,Nv,kv]=["ReadableStream","Request","Response","Headers"].map(Rt),Ev=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ps(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),_r(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ts(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function sh(e,t){if(Ts(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Mn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ih=e=>!Sr(e)&&e!==Mn;function sa(){const{caseless:e,skipUndefined:t}=ih(this)&&this||{},n={},r=(s,i)=>{const o=e&&sh(n,i)||i;pi(n[o])&&pi(s)?n[o]=sa(n[o],s):pi(s)?n[o]=sa({},s):_r(s)?n[o]=s.slice():(!t||!Sr(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ps(arguments[s],r);return n}const jv=(e,t,n,{allOwnKeys:r}={})=>(Ps(t,(s,i)=>{n&&Je(s)?e[i]=eh(s,n):e[i]=s},{allOwnKeys:r}),e),Cv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_v=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},bv=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&gc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Rv=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Tv=e=>{if(!e)return null;if(_r(e))return e;let t=e.length;if(!rh(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Av=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gc(Uint8Array)),Pv=(e,t)=>{const r=(e&&e[vo]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Ov=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Iv=Rt("HTMLFormElement"),Mv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),ed=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Lv=Rt("RegExp"),oh=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ps(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},Uv=e=>{oh(e,(t,n)=>{if(Je(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Je(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dv=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return _r(e)?r(e):r(String(e).split(t)),n},Fv=()=>{},$v=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zv(e){return!!(e&&Je(e.append)&&e[th]==="FormData"&&e[vo])}const Bv=e=>{const t=new Array(10),n=(r,s)=>{if(As(r)){if(t.indexOf(r)>=0)return;if(Ts(r))return r;if(!("toJSON"in r)){t[s]=r;const i=_r(r)?[]:{};return Ps(r,(o,a)=>{const c=n(o,s+1);!Sr(c)&&(i[a]=c)}),t[s]=void 0,i}}return r};return n(e,0)},Hv=Rt("AsyncFunction"),Vv=e=>e&&(As(e)||Je(e))&&Je(e.then)&&Je(e.catch),lh=((e,t)=>e?setImmediate:t?((n,r)=>(Mn.addEventListener("message",({source:s,data:i})=>{s===Mn&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Mn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Je(Mn.postMessage)),Wv=typeof queueMicrotask<"u"?queueMicrotask.bind(Mn):typeof process<"u"&&process.nextTick||lh,qv=e=>e!=null&&Je(e[vo]),C={isArray:_r,isArrayBuffer:nh,isBuffer:Ts,isFormData:vv,isArrayBufferView:cv,isString:uv,isNumber:rh,isBoolean:dv,isObject:As,isPlainObject:pi,isEmptyObject:fv,isReadableStream:wv,isRequest:Sv,isResponse:Nv,isHeaders:kv,isUndefined:Sr,isDate:pv,isFile:hv,isBlob:mv,isRegExp:Lv,isFunction:Je,isStream:yv,isURLSearchParams:xv,isTypedArray:Av,isFileList:gv,forEach:Ps,merge:sa,extend:jv,trim:Ev,stripBOM:Cv,inherits:_v,toFlatObject:bv,kindOf:xo,kindOfTest:Rt,endsWith:Rv,toArray:Tv,forEachEntry:Pv,matchAll:Ov,isHTMLForm:Iv,hasOwnProperty:ed,hasOwnProp:ed,reduceDescriptors:oh,freezeMethods:Uv,toObjectSet:Dv,toCamelCase:Mv,noop:Fv,toFiniteNumber:$v,findKey:sh,global:Mn,isContextDefined:ih,isSpecCompliantForm:zv,toJSONObject:Bv,isAsyncFn:Hv,isThenable:Vv,setImmediate:lh,asap:Wv,isIterable:qv};function K(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}C.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const ah=K.prototype,ch={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ch[e]={value:e}});Object.defineProperties(K,ch);Object.defineProperty(ah,"isAxiosError",{value:!0});K.from=(e,t,n,r,s,i)=>{const o=Object.create(ah);C.toFlatObject(e,o,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return K.call(o,a,c,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Gv=null;function ia(e){return C.isPlainObject(e)||C.isArray(e)}function uh(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function td(e,t,n){return e?e.concat(t).map(function(s,i){return s=uh(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Kv(e){return C.isArray(e)&&!e.some(ia)}const Qv=C.toFlatObject(C,{},null,function(t){return/^is[A-Z]/.test(t)});function So(e,t,n){if(!C.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,k){return!C.isUndefined(k[g])});const r=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(t);if(!C.isFunction(s))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(C.isDate(p))return p.toISOString();if(C.isBoolean(p))return p.toString();if(!c&&C.isBlob(p))throw new K("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(p)||C.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function f(p,g,k){let v=p;if(p&&!k&&typeof p=="object"){if(C.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(C.isArray(p)&&Kv(p)||(C.isFileList(p)||C.endsWith(g,"[]"))&&(v=C.toArray(p)))return g=uh(g),v.forEach(function(m,_){!(C.isUndefined(m)||m===null)&&t.append(o===!0?td([g],_,i):o===null?g:g+"[]",u(m))}),!1}return ia(p)?!0:(t.append(td(k,g,i),u(p)),!1)}const d=[],y=Object.assign(Qv,{defaultVisitor:f,convertValue:u,isVisitable:ia});function w(p,g){if(!C.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(p),C.forEach(p,function(v,h){(!(C.isUndefined(v)||v===null)&&s.call(t,v,C.isString(h)?h.trim():h,g,y))===!0&&w(v,g?g.concat(h):[h])}),d.pop()}}if(!C.isObject(e))throw new TypeError("data must be an object");return w(e),t}function nd(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function yc(e,t){this._pairs=[],e&&So(e,this,t)}const dh=yc.prototype;dh.append=function(t,n){this._pairs.push([t,n])};dh.toString=function(t){const n=t?function(r){return t.call(this,r,nd)}:nd;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Yv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fh(e,t,n){if(!t)return e;const r=n&&n.encode||Yv;C.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=C.isURLSearchParams(t)?t.toString():new yc(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Xv{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){C.forEach(this.handlers,function(r){r!==null&&t(r)})}}const rd=Xv,ph={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jv=typeof URLSearchParams<"u"?URLSearchParams:yc,Zv=typeof FormData<"u"?FormData:null,ex=typeof Blob<"u"?Blob:null,tx={isBrowser:!0,classes:{URLSearchParams:Jv,FormData:Zv,Blob:ex},protocols:["http","https","file","blob","url","data"]},vc=typeof window<"u"&&typeof document<"u",oa=typeof navigator=="object"&&navigator||void 0,nx=vc&&(!oa||["ReactNative","NativeScript","NS"].indexOf(oa.product)<0),rx=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),sx=vc&&window.location.href||"http://localhost",ix=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vc,hasStandardBrowserEnv:nx,hasStandardBrowserWebWorkerEnv:rx,navigator:oa,origin:sx},Symbol.toStringTag,{value:"Module"})),Fe={...ix,...tx};function ox(e,t){return So(e,new Fe.classes.URLSearchParams,{visitor:function(n,r,s,i){return Fe.isNode&&C.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function lx(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ax(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function hh(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&C.isArray(s)?s.length:o,c?(C.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!C.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&C.isArray(s[o])&&(s[o]=ax(s[o])),!a)}if(C.isFormData(e)&&C.isFunction(e.entries)){const n={};return C.forEachEntry(e,(r,s)=>{t(lx(r),s,n,0)}),n}return null}function cx(e,t,n){if(C.isString(e))try{return(t||JSON.parse)(e),C.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const xc={transitional:ph,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=C.isObject(t);if(i&&C.isHTMLForm(t)&&(t=new FormData(t)),C.isFormData(t))return s?JSON.stringify(hh(t)):t;if(C.isArrayBuffer(t)||C.isBuffer(t)||C.isStream(t)||C.isFile(t)||C.isBlob(t)||C.isReadableStream(t))return t;if(C.isArrayBufferView(t))return t.buffer;if(C.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ox(t,this.formSerializer).toString();if((a=C.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return So(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),cx(t)):t}],transformResponse:[function(t){const n=this.transitional||xc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(C.isResponse(t)||C.isReadableStream(t))return t;if(t&&C.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],e=>{xc.headers[e]={}});const wc=xc,ux=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dx=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&ux[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},sd=Symbol("internals");function Dr(e){return e&&String(e).trim().toLowerCase()}function hi(e){return e===!1||e==null?e:C.isArray(e)?e.map(hi):String(e)}function fx(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const px=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Zo(e,t,n,r,s){if(C.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!C.isString(t)){if(C.isString(r))return t.indexOf(r)!==-1;if(C.isRegExp(r))return r.test(t)}}function hx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function mx(e,t){const n=C.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}class No{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,c,u){const f=Dr(c);if(!f)throw new Error("header name must be a non-empty string");const d=C.findKey(s,f);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=hi(a))}const o=(a,c)=>C.forEach(a,(u,f)=>i(u,f,c));if(C.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(C.isString(t)&&(t=t.trim())&&!px(t))o(dx(t),n);else if(C.isObject(t)&&C.isIterable(t)){let a={},c,u;for(const f of t){if(!C.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(c=a[u])?C.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Dr(t),t){const r=C.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return fx(s);if(C.isFunction(n))return n.call(this,s,r);if(C.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Dr(t),t){const r=C.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Zo(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Dr(o),o){const a=C.findKey(r,o);a&&(!n||Zo(r,r[a],a,n))&&(delete r[a],s=!0)}}return C.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Zo(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return C.forEach(this,(s,i)=>{const o=C.findKey(r,i);if(o){n[o]=hi(s),delete n[i];return}const a=t?hx(i):String(i).trim();a!==i&&delete n[i],n[a]=hi(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return C.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&C.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[sd]=this[sd]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Dr(o);r[a]||(mx(s,o),r[a]=!0)}return C.isArray(t)?t.forEach(i):i(t),this}}No.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(No.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});C.freezeMethods(No);const _t=No;function el(e,t){const n=this||wc,r=t||n,s=_t.from(r.headers);let i=r.data;return C.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function mh(e){return!!(e&&e.__CANCEL__)}function br(e,t,n){K.call(this,e??"canceled",K.ERR_CANCELED,t,n),this.name="CanceledError"}C.inherits(br,K,{__CANCEL__:!0});function gh(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gx(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function yx(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=r[i];o||(o=u),n[s]=c,r[s]=u;let d=i,y=0;for(;d!==s;)y+=n[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const w=f&&u-f;return w?Math.round(y*1e3/w):void 0}}function vx(e,t){let n=0,r=1e3/t,s,i;const o=(u,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const f=Date.now(),d=f-n;d>=r?o(u,f):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const Ki=(e,t,n=3)=>{let r=0;const s=yx(50,250);return vx(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),f=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&f?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},id=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},od=e=>(...t)=>C.asap(()=>e(...t)),xx=Fe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Fe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Fe.origin),Fe.navigator&&/(msie|trident)/i.test(Fe.navigator.userAgent)):()=>!0,wx=Fe.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];C.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),C.isString(r)&&o.push("path="+r),C.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Sx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Nx(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function yh(e,t,n){let r=!Sx(t);return e&&(r||n==!1)?Nx(e,t):t}const ld=e=>e instanceof _t?{...e}:e;function Vn(e,t){t=t||{};const n={};function r(u,f,d,y){return C.isPlainObject(u)&&C.isPlainObject(f)?C.merge.call({caseless:y},u,f):C.isPlainObject(f)?C.merge({},f):C.isArray(f)?f.slice():f}function s(u,f,d,y){if(C.isUndefined(f)){if(!C.isUndefined(u))return r(void 0,u,d,y)}else return r(u,f,d,y)}function i(u,f){if(!C.isUndefined(f))return r(void 0,f)}function o(u,f){if(C.isUndefined(f)){if(!C.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,d){if(d in t)return r(u,f);if(d in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,f,d)=>s(ld(u),ld(f),d,!0)};return C.forEach(Object.keys({...e,...t}),function(f){const d=c[f]||s,y=d(e[f],t[f],f);C.isUndefined(y)&&d!==a||(n[f]=y)}),n}const vh=e=>{const t=Vn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=_t.from(o),t.url=fh(yh(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),C.isFormData(n)){if(Fe.hasStandardBrowserEnv||Fe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(C.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,d])=>{u.includes(f.toLowerCase())&&o.set(f,d)})}}if(Fe.hasStandardBrowserEnv&&(r&&C.isFunction(r)&&(r=r(t)),r||r!==!1&&xx(t.url))){const c=s&&i&&wx.read(i);c&&o.set(s,c)}return t},kx=typeof XMLHttpRequest<"u",Ex=kx&&function(e){return new Promise(function(n,r){const s=vh(e);let i=s.data;const o=_t.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,f,d,y,w,p;function g(){w&&w(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function v(){if(!k)return;const m=_t.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:m,config:e,request:k};gh(function(L){n(L),g()},function(L){r(L),g()},A),k=null}"onloadend"in k?k.onloadend=v:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(v)},k.onabort=function(){k&&(r(new K("Request aborted",K.ECONNABORTED,e,k)),k=null)},k.onerror=function(_){const A=_&&_.message?_.message:"Network Error",N=new K(A,K.ERR_NETWORK,e,k);N.event=_||null,r(N),k=null},k.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const A=s.transitional||ph;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),r(new K(_,A.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,k)),k=null},i===void 0&&o.setContentType(null),"setRequestHeader"in k&&C.forEach(o.toJSON(),function(_,A){k.setRequestHeader(A,_)}),C.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),a&&a!=="json"&&(k.responseType=s.responseType),u&&([y,p]=Ki(u,!0),k.addEventListener("progress",y)),c&&k.upload&&([d,w]=Ki(c),k.upload.addEventListener("progress",d),k.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(f=m=>{k&&(r(!m||m.type?new br(null,e,k):m),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const h=gx(s.url);if(h&&Fe.protocols.indexOf(h)===-1){r(new K("Unsupported protocol "+h+":",K.ERR_BAD_REQUEST,e));return}k.send(i||null)})},jx=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof K?f:new br(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>C.asap(a),c}},Cx=jx,_x=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},bx=async function*(e,t){for await(const n of Rx(e))yield*_x(n,t)},Rx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ad=(e,t,n,r)=>{const s=bx(e,t);let i=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await s.next();if(u){a(),c.close();return}let d=f.byteLength;if(n){let y=i+=d;n(y)}c.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},cd=64*1024,{isFunction:Xs}=C,Tx=(({Request:e,Response:t})=>({Request:e,Response:t}))(C.global),{ReadableStream:ud,TextEncoder:dd}=C.global,fd=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ax=e=>{e=C.merge.call({skipUndefined:!0},Tx,e);const{fetch:t,Request:n,Response:r}=e,s=t?Xs(t):typeof fetch=="function",i=Xs(n),o=Xs(r);if(!s)return!1;const a=s&&Xs(ud),c=s&&(typeof dd=="function"?(p=>g=>p.encode(g))(new dd):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=i&&a&&fd(()=>{let p=!1;const g=new n(Fe.origin,{body:new ud,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),f=o&&a&&fd(()=>C.isReadableStream(new r("").body)),d={stream:f&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(g,k)=>{let v=g&&g[p];if(v)return v.call(g);throw new K(`Response type '${p}' is not supported`,K.ERR_NOT_SUPPORT,k)})});const y=async p=>{if(p==null)return 0;if(C.isBlob(p))return p.size;if(C.isSpecCompliantForm(p))return(await new n(Fe.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(C.isArrayBufferView(p)||C.isArrayBuffer(p))return p.byteLength;if(C.isURLSearchParams(p)&&(p=p+""),C.isString(p))return(await c(p)).byteLength},w=async(p,g)=>{const k=C.toFiniteNumber(p.getContentLength());return k??y(g)};return async p=>{let{url:g,method:k,data:v,signal:h,cancelToken:m,timeout:_,onDownloadProgress:A,onUploadProgress:N,responseType:L,headers:b,withCredentials:z="same-origin",fetchOptions:B}=vh(p),X=t||fetch;L=L?(L+"").toLowerCase():"text";let oe=Cx([h,m&&m.toAbortSignal()],_),le=null;const we=oe&&oe.unsubscribe&&(()=>{oe.unsubscribe()});let Ze;try{if(N&&u&&k!=="get"&&k!=="head"&&(Ze=await w(b,v))!==0){let G=new n(g,{method:"POST",body:v,duplex:"half"}),q;if(C.isFormData(v)&&(q=G.headers.get("content-type"))&&b.setContentType(q),G.body){const[et,R]=id(Ze,Ki(od(N)));v=ad(G.body,cd,et,R)}}C.isString(z)||(z=z?"include":"omit");const pe=i&&"credentials"in n.prototype,D={...B,signal:oe,method:k.toUpperCase(),headers:b.normalize().toJSON(),body:v,duplex:"half",credentials:pe?z:void 0};le=i&&new n(g,D);let j=await(i?X(le,B):X(g,D));const F=f&&(L==="stream"||L==="response");if(f&&(A||F&&we)){const G={};["status","statusText","headers"].forEach(T=>{G[T]=j[T]});const q=C.toFiniteNumber(j.headers.get("content-length")),[et,R]=A&&id(q,Ki(od(A),!0))||[];j=new r(ad(j.body,cd,et,()=>{R&&R(),we&&we()}),G)}L=L||"text";let V=await d[C.findKey(d,L)||"text"](j,p);return!F&&we&&we(),await new Promise((G,q)=>{gh(G,q,{data:V,headers:_t.from(j.headers),status:j.status,statusText:j.statusText,config:p,request:le})})}catch(pe){throw we&&we(),pe&&pe.name==="TypeError"&&/Load failed|fetch/i.test(pe.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,p,le),{cause:pe.cause||pe}):K.from(pe,pe&&pe.code,p,le)}}},Px=new Map,xh=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,c,u,f=Px;for(;a--;)c=i[a],u=f.get(c),u===void 0&&f.set(c,u=a?new Map:Ax(t)),f=u;return u};xh();const la={http:Gv,xhr:Ex,fetch:{get:xh}};C.forEach(la,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pd=e=>`- ${e}`,Ox=e=>C.isFunction(e)||e===null||e===!1,wh={getAdapter:(e,t)=>{e=C.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!Ox(r)&&(s=la[(a=String(r)).toLowerCase()],s===void 0))throw new K(`Unknown adapter '${a}'`);if(s&&(C.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(pd).join(`
`):" "+pd(o[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:la};function tl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new br(null,e)}function hd(e){return tl(e),e.headers=_t.from(e.headers),e.data=el.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),wh.getAdapter(e.adapter||wc.adapter,e)(e).then(function(r){return tl(e),r.data=el.call(e,e.transformResponse,r),r.headers=_t.from(r.headers),r},function(r){return mh(r)||(tl(e),r&&r.response&&(r.response.data=el.call(e,e.transformResponse,r.response),r.response.headers=_t.from(r.response.headers))),Promise.reject(r)})}const Sh="1.12.2",ko={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ko[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const md={};ko.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Sh+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new K(s(o," has been removed"+(n?" in "+n:"")),K.ERR_DEPRECATED);return n&&!md[o]&&(md[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};ko.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Ix(e,t,n){if(typeof e!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new K("option "+i+" must be "+c,K.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new K("Unknown option "+i,K.ERR_BAD_OPTION)}}const mi={assertOptions:Ix,validators:ko},Pt=mi.validators;class Qi{constructor(t){this.defaults=t||{},this.interceptors={request:new rd,response:new rd}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Vn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&mi.assertOptions(r,{silentJSONParsing:Pt.transitional(Pt.boolean),forcedJSONParsing:Pt.transitional(Pt.boolean),clarifyTimeoutError:Pt.transitional(Pt.boolean)},!1),s!=null&&(C.isFunction(s)?n.paramsSerializer={serialize:s}:mi.assertOptions(s,{encode:Pt.function,serialize:Pt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),mi.assertOptions(n,{baseUrl:Pt.spelling("baseURL"),withXsrfToken:Pt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&C.merge(i.common,i[n.method]);i&&C.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=_t.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let f,d=0,y;if(!c){const p=[hd.bind(this),void 0];for(p.unshift(...a),p.push(...u),y=p.length,f=Promise.resolve(n);d<y;)f=f.then(p[d++],p[d++]);return f}y=a.length;let w=n;for(;d<y;){const p=a[d++],g=a[d++];try{w=p(w)}catch(k){g.call(this,k);break}}try{f=hd.call(this,w)}catch(p){return Promise.reject(p)}for(d=0,y=u.length;d<y;)f=f.then(u[d++],u[d++]);return f}getUri(t){t=Vn(this.defaults,t);const n=yh(t.baseURL,t.url,t.allowAbsoluteUrls);return fh(n,t.params,t.paramsSerializer)}}C.forEach(["delete","get","head","options"],function(t){Qi.prototype[t]=function(n,r){return this.request(Vn(r||{},{method:t,url:n,data:(r||{}).data}))}});C.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Vn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Qi.prototype[t]=n(),Qi.prototype[t+"Form"]=n(!0)});const gi=Qi;class Sc{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new br(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Sc(function(s){t=s}),cancel:t}}}const Mx=Sc;function Lx(e){return function(n){return e.apply(null,n)}}function Ux(e){return C.isObject(e)&&e.isAxiosError===!0}const aa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aa).forEach(([e,t])=>{aa[t]=e});const Dx=aa;function Nh(e){const t=new gi(e),n=eh(gi.prototype.request,t);return C.extend(n,gi.prototype,t,{allOwnKeys:!0}),C.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Nh(Vn(e,s))},n}const je=Nh(wc);je.Axios=gi;je.CanceledError=br;je.CancelToken=Mx;je.isCancel=mh;je.VERSION=Sh;je.toFormData=So;je.AxiosError=K;je.Cancel=je.CanceledError;je.all=function(t){return Promise.all(t)};je.spread=Lx;je.isAxiosError=Ux;je.mergeConfig=Vn;je.AxiosHeaders=_t;je.formToJSON=e=>hh(C.isHTMLForm(e)?new FormData(e):e);je.getAdapter=wh.getAdapter;je.HttpStatusCode=Dx;je.default=je;const Fx=je,kh="http://13.233.120.169:5002/api",nt=kh.replace(/\/?api\/?$/,""),re=Fx.create({baseURL:kh,headers:{"Content-Type":"application/json"}});re.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));re.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const ts={login:(e,t)=>re.post("/auth/login",{email:e,password:t}),registerSuperAdmin:(e,t,n)=>re.post("/auth/register-superadmin",{name:e,email:t,password:n}),getCurrentUser:()=>re.get("/auth/me"),checkSuperAdmin:()=>re.get("/auth/check-superadmin")},pt={getUsers:()=>re.get("/users"),getActiveUsers:()=>re.get("/users/active"),createUser:e=>re.post("/users",e),updateUser:(e,t)=>re.put(`/users/${e}`,t),deleteUser:e=>re.delete(`/users/${e}`),toggleUserStatus:e=>re.put(`/users/${e}/toggle-status`),updateProfile:e=>{const t=e instanceof FormData?e:(()=>{const n=new FormData;return Object.entries(e||{}).forEach(([r,s])=>{s!=null&&n.append(r,s)}),n})();return re.put("/users/profile",t,{headers:{"Content-Type":"multipart/form-data"}})}},cn={getGroups:()=>re.get("/groups"),getMyGroups:()=>re.get("/groups/my-groups"),createGroup:e=>re.post("/groups",e),addMembers:(e,t)=>re.post(`/groups/${e}/members`,{members:t}),removeMember:(e,t)=>re.delete(`/groups/${e}/members/${t}`),updateGroup:(e,t)=>re.put(`/groups/${e}`,t),deleteGroup:e=>re.delete(`/groups/${e}`)},Ue={getPersonalMessages:e=>re.get(`/messages/personal/${e}`),getGroupMessages:e=>re.get(`/messages/group/${e}`),sendPersonalMessage:e=>re.post("/messages/personal",e),sendGroupMessage:e=>re.post("/messages/group",e),markAsRead:e=>re.put(`/messages/${e}/read`),getUnreadCount:()=>re.get("/messages/unread/count"),getChatState:()=>re.get("/messages/chat-state"),updateChatState:e=>re.post("/messages/chat-state",e)},$x=Object.freeze(Object.defineProperty({__proto__:null,API_ORIGIN:nt,authAPI:ts,default:re,groupsAPI:cn,messagesAPI:Ue,usersAPI:pt},Symbol.toStringTag,{value:"Module"})),Eh=S.createContext(),Jt=()=>{const e=S.useContext(Eh);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},zx=({children:e})=>{const[t,n]=S.useState(null),[r,s]=S.useState(!0);S.useEffect(()=>{localStorage.getItem("token")?ts.getCurrentUser().then(f=>{n(f.data.user)}).catch(f=>{console.error("Auth check failed:",f),localStorage.removeItem("token")}).finally(()=>{s(!1)}):s(!1)},[]);const c={user:t,setUser:n,login:async(u,f)=>{var d,y,w,p;try{const g=await ts.login(u,f),{token:k,user:v}=g.data;return localStorage.setItem("token",k),n(v),{success:!0,data:g.data}}catch(g){return(y=(d=g.response)==null?void 0:d.data)!=null&&y.disabled?{success:!1,error:"Your account has been disabled by administrator",disabled:!0}:{success:!1,error:((p=(w=g.response)==null?void 0:w.data)==null?void 0:p.message)||"Login failed"}}},registerSuperAdmin:async(u,f,d)=>{var y,w;try{const p=await ts.registerSuperAdmin(u,f,d),{token:g,user:k}=p.data;return localStorage.setItem("token",g),n(k),{success:!0,data:p.data}}catch(p){return{success:!1,error:((w=(y=p.response)==null?void 0:y.data)==null?void 0:w.message)||"Registration failed"}}},logout:()=>{localStorage.removeItem("token"),n(null)},loading:r};return l.jsx(Eh.Provider,{value:c,children:e})},Bx="modulepreload",Hx=function(e){return"/"+e},gd={},Vx=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Hx(i),i in gd)return;gd[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const d=s[f];if(d.href===i&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Bx,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Ft=Object.create(null);Ft.open="0";Ft.close="1";Ft.ping="2";Ft.pong="3";Ft.message="4";Ft.upgrade="5";Ft.noop="6";const yi=Object.create(null);Object.keys(Ft).forEach(e=>{yi[Ft[e]]=e});const ca={type:"error",data:"parser error"},jh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ch=typeof ArrayBuffer=="function",_h=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Nc=({type:e,data:t},n,r)=>jh&&t instanceof Blob?n?r(t):yd(t,r):Ch&&(t instanceof ArrayBuffer||_h(t))?n?r(t):yd(new Blob([t]),r):r(Ft[e]+(t||"")),yd=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function vd(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let nl;function Wx(e,t){if(jh&&e.data instanceof Blob)return e.data.arrayBuffer().then(vd).then(t);if(Ch&&(e.data instanceof ArrayBuffer||_h(e.data)))return t(vd(e.data));Nc(e,!1,n=>{nl||(nl=new TextEncoder),t(nl.encode(n))})}const xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<xd.length;e++)Vr[xd.charCodeAt(e)]=e;const qx=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(r=0;r<n;r+=4)i=Vr[e.charCodeAt(r)],o=Vr[e.charCodeAt(r+1)],a=Vr[e.charCodeAt(r+2)],c=Vr[e.charCodeAt(r+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|a>>2,f[s++]=(a&3)<<6|c&63;return u},Gx=typeof ArrayBuffer=="function",kc=(e,t)=>{if(typeof e!="string")return{type:"message",data:bh(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Kx(e.substring(1),t)}:yi[n]?e.length>1?{type:yi[n],data:e.substring(1)}:{type:yi[n]}:ca},Kx=(e,t)=>{if(Gx){const n=qx(e);return bh(n,t)}else return{base64:!0,data:e}},bh=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Rh=String.fromCharCode(30),Qx=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{Nc(i,!1,a=>{r[o]=a,++s===n&&t(r.join(Rh))})})},Yx=(e,t)=>{const n=e.split(Rh),r=[];for(let s=0;s<n.length;s++){const i=kc(n[s],t);if(r.push(i),i.type==="error")break}return r};function Xx(){return new TransformStream({transform(e,t){Wx(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let rl;function Js(e){return e.reduce((t,n)=>t+n.length,0)}function Zs(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Jx(e,t){rl||(rl=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(Js(n)<1)break;const c=Zs(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Js(n)<2)break;const c=Zs(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(Js(n)<8)break;const c=Zs(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,53-32)-1){a.enqueue(ca);break}s=f*Math.pow(2,32)+u.getUint32(4),r=3}else{if(Js(n)<s)break;const c=Zs(n,s);a.enqueue(kc(i?c:rl.decode(c),t)),r=0}if(s===0||s>e){a.enqueue(ca);break}}}})}const Th=4;function Ee(e){if(e)return Zx(e)}function Zx(e){for(var t in Ee.prototype)e[t]=Ee.prototype[t];return e}Ee.prototype.on=Ee.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ee.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ee.prototype.off=Ee.prototype.removeListener=Ee.prototype.removeAllListeners=Ee.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ee.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Ee.prototype.emitReserved=Ee.prototype.emit;Ee.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ee.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Eo=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),ft=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),e1="arraybuffer";function Ah(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const t1=ft.setTimeout,n1=ft.clearTimeout;function jo(e,t){t.useNativeTimers?(e.setTimeoutFn=t1.bind(ft),e.clearTimeoutFn=n1.bind(ft)):(e.setTimeoutFn=ft.setTimeout.bind(ft),e.clearTimeoutFn=ft.clearTimeout.bind(ft))}const r1=1.33;function s1(e){return typeof e=="string"?i1(e):Math.ceil((e.byteLength||e.size)*r1)}function i1(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Ph(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function o1(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function l1(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class a1 extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Ec extends Ee{constructor(t){super(),this.writable=!1,jo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new a1(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=kc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=o1(t);return n.length?"?"+n:""}}class c1 extends Ec{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Yx(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Qx(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Ph()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Oh=!1;try{Oh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const u1=Oh;function d1(){}class f1 extends c1{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Dt extends Ee{constructor(t,n,r){super(),this.createRequest=t,jo(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Ah(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Dt.requestsCount++,Dt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=d1,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Dt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Dt.requestsCount=0;Dt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",wd);else if(typeof addEventListener=="function"){const e="onpagehide"in ft?"pagehide":"unload";addEventListener(e,wd,!1)}}function wd(){for(let e in Dt.requests)Dt.requests.hasOwnProperty(e)&&Dt.requests[e].abort()}const p1=function(){const e=Ih({xdomain:!1});return e&&e.responseType!==null}();class h1 extends f1{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=p1&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Dt(Ih,this.uri(),t)}}function Ih(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||u1))return new XMLHttpRequest}catch{}if(!t)try{return new ft[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Mh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class m1 extends Ec{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Mh?{}:Ah(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Nc(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Eo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Ph()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const sl=ft.WebSocket||ft.MozWebSocket;class g1 extends m1{createSocket(t,n,r){return Mh?new sl(t,n,r):n?new sl(t,n):new sl(t)}doWrite(t,n){this.ws.send(n)}}class y1 extends Ec{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Jx(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Xx();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Eo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const v1={websocket:g1,webtransport:y1,polling:h1},x1=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,w1=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ua(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=x1.exec(e||""),i={},o=14;for(;o--;)i[w1[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=S1(i,i.path),i.queryKey=N1(i,i.query),i}function S1(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function N1(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const da=typeof addEventListener=="function"&&typeof removeEventListener=="function",vi=[];da&&addEventListener("offline",()=>{vi.forEach(e=>e())},!1);class xn extends Ee{constructor(t,n){if(super(),this.binaryType=e1,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=ua(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=ua(n.host).host);jo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=l1(this.opts.query)),da&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},vi.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Th,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&xn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",xn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=s1(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Eo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(xn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),da&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=vi.indexOf(this._offlineEventListener);r!==-1&&vi.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}xn.protocol=Th;class k1 extends xn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;xn.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;xn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=n.name,this.emitReserved("upgradeError",y)}}))};function i(){r||(r=!0,f(),n.close(),n=null)}const o=d=>{const y=new Error("probe error: "+d);y.transport=n.name,i(),this.emitReserved("upgradeError",y)};function a(){o("transport closed")}function c(){o("socket closed")}function u(d){n&&d.name!==n.name&&i()}const f=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",a),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",a),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let E1=class extends k1{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>v1[s]).filter(s=>!!s)),super(t,r)}};function j1(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=ua(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const C1=typeof ArrayBuffer=="function",_1=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Lh=Object.prototype.toString,b1=typeof Blob=="function"||typeof Blob<"u"&&Lh.call(Blob)==="[object BlobConstructor]",R1=typeof File=="function"||typeof File<"u"&&Lh.call(File)==="[object FileConstructor]";function jc(e){return C1&&(e instanceof ArrayBuffer||_1(e))||b1&&e instanceof Blob||R1&&e instanceof File}function xi(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(xi(e[n]))return!0;return!1}if(jc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return xi(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&xi(e[n]))return!0;return!1}function T1(e){const t=[],n=e.data,r=e;return r.data=fa(n,t),r.attachments=t.length,{packet:r,buffers:t}}function fa(e,t){if(!e)return e;if(jc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=fa(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=fa(e[r],t));return n}return e}function A1(e,t){return e.data=pa(e.data,t),delete e.attachments,e}function pa(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=pa(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=pa(e[n],t));return e}const P1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],O1=5;var Z;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Z||(Z={}));class I1{constructor(t){this.replacer=t}encode(t){return(t.type===Z.EVENT||t.type===Z.ACK)&&xi(t)?this.encodeAsBinary({type:t.type===Z.EVENT?Z.BINARY_EVENT:Z.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Z.BINARY_EVENT||t.type===Z.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=T1(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Sd(e){return Object.prototype.toString.call(e)==="[object Object]"}class Cc extends Ee{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Z.BINARY_EVENT;r||n.type===Z.BINARY_ACK?(n.type=r?Z.EVENT:Z.ACK,this.reconstructor=new M1(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(jc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Z[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Z.BINARY_EVENT||r.type===Z.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Cc.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Z.CONNECT:return Sd(n);case Z.DISCONNECT:return n===void 0;case Z.CONNECT_ERROR:return typeof n=="string"||Sd(n);case Z.EVENT:case Z.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&P1.indexOf(n[0])===-1);case Z.ACK:case Z.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class M1{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=A1(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const L1=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Cc,Encoder:I1,get PacketType(){return Z},protocol:O1},Symbol.toStringTag,{value:"Module"}));function kt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const U1=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Uh extends Ee{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[kt(t,"open",this.onopen.bind(this)),kt(t,"packet",this.onpacket.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(U1.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Z.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,d=n.pop();this._registerAckCallback(f,d),o.id=f}const a=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,a)=>o?s(o):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Z.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Z.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Z.EVENT:case Z.BINARY_EVENT:this.onevent(t);break;case Z.ACK:case Z.BINARY_ACK:this.onack(t);break;case Z.DISCONNECT:this.ondisconnect();break;case Z.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Z.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Z.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Rr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Rr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Rr.prototype.reset=function(){this.attempts=0};Rr.prototype.setMin=function(e){this.ms=e};Rr.prototype.setMax=function(e){this.max=e};Rr.prototype.setJitter=function(e){this.jitter=e};class ha extends Ee{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,jo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Rr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||L1;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new E1(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=kt(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=kt(n,"error",i);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(kt(t,"ping",this.onping.bind(this)),kt(t,"data",this.ondata.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this)),kt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Eo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Uh(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Fr={};function ns(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=j1(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=Fr[s]&&i in Fr[s].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return a?c=new ha(r,t):(Fr[s]||(Fr[s]=new ha(r,t)),c=Fr[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(ns,{Manager:ha,Socket:Uh,io:ns,connect:ns});const Dh=S.createContext(),_c=()=>{const e=S.useContext(Dh);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},D1=({children:e,user:t})=>{const[n,r]=S.useState(null),[s,i]=S.useState(!1),[o,a]=S.useState([]),[c,u]=S.useState(0),[f,d]=S.useState(Date.now()),[y,w]=S.useState([]),p=D=>{if(t&&(t.role==="admin"||t.role==="superadmin")){const F=` DISABLED USER LOGIN ATTEMPT

${D.userName} (${D.userEmail}) is trying to access the system`;W.error(F,{duration:8e3,position:"top-center",style:{background:"#fef2f2",color:"#dc2626",border:"2px solid #ef4444",fontSize:"14px",fontWeight:"bold",padding:"16px",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",whiteSpace:"pre-line"},icon:"",className:"toast-admin-alert"});const V=Date.now()+Math.random();w(G=>[...G,{...D,id:V}])}},g=async D=>{try{const{usersAPI:j}=await Vx(()=>Promise.resolve().then(()=>$x),void 0);await j.toggleUserStatus(D);const F=y.find(V=>V.userId===D);w(V=>V.filter(G=>G.userId!==D)),F&&W.success(` User ${F.userName} has been activated successfully!`,{duration:4e3,position:"top-right"})}catch(j){console.error("Error activating user:",j),W.error("Failed to activate user. Please try again.")}},k=D=>{w(j=>j.filter(F=>F.id!==D))},v={autoConnect:!0,transports:["websocket","polling"],upgrade:!0,rememberUpgrade:!0,timeout:2e4,forceNew:!0,reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:1e4,maxReconnectionAttempts:1/0};S.useEffect(()=>{if(t&&t.id){console.log(" Initializing socket connection for user:",t.name),console.log(" Socket URL:","http://13.233.120.169:5002"),n&&(console.log(" Closing existing socket connection"),n.close(),r(null));const D=ns("http://13.233.120.169:5002",v);return D.on("connect",()=>{u(0),d(Date.now()),i(!0),console.log(" Socket connected - ID:",D.id),console.log(" Connected as user:",t.name),console.log(" Connection URL:",D.io.uri),D.emit("join",t.id),console.log(` User ${t.id} joined personal room`),_(D)}),D.on("disconnect",j=>{i(!1),console.log(" Socket disconnected - Reason:",j),console.log(" Disconnected user:",t.name),A(),h(D)}),D.on("connect_error",j=>{console.error(" Socket connection error:",j),i(!1),j.message&&j.message.includes("WebSocket")&&(console.log(" WebSocket connection failed, trying polling transport"),D.io.opts.transports=["polling"],setTimeout(()=>D.connect(),1e3)),h(D)}),D.on("reconnect",j=>{u(0),console.log(" Socket reconnected after",j,"attempts"),console.log(" New Socket ID:",D.id),i(!0),D.emit("join",t.id)}),D.on("reconnect_error",j=>{console.error(" Socket reconnection error:",j)}),D.on("reconnect_failed",()=>{console.error(" Socket reconnection failed"),i(!1)}),D.on("ping",j=>{d(Date.now()),console.log(" Ping received - Connection alive, timestamp:",new Date(Date.now()).toLocaleTimeString())}),D.on("pong",j=>{d(Date.now()),console.log(" Pong received - Connection confirmed, timestamp:",new Date(Date.now()).toLocaleTimeString())}),D.on("connect_timeout",()=>{console.log(" Socket connection timed out")}),D.on("reconnect_error",j=>{console.error(" Reconnection error:",j.message)}),D.on("reconnect_failed",()=>{console.error(" Reconnection failed permanently - forcing reconnect"),u(1/0)}),D.on("force-logout",j=>{console.log(" Force logout received:",j),localStorage.removeItem("token"),window.location.href="/login"}),D.on("admin_notification",j=>{p(j)}),D.on("user-online",j=>{var F;console.log(" User came online:",(F=j.user)==null?void 0:F.name),a(V=>V.find(q=>q.userId===j.userId)?V.map(q=>q.userId===j.userId?{...q,isOnline:!0,lastSeen:new Date}:q):[...V,{...j,isOnline:!0,lastSeen:new Date}])}),D.on("user-offline",j=>{var F;console.log(" User went offline:",(F=j.user)==null?void 0:F.name),a(V=>V.find(q=>q.userId===j.userId)?V.map(q=>q.userId===j.userId?{...q,isOnline:!1,lastSeen:new Date}:q):V)}),D.on("online-users",j=>{console.log(" Initial online users:",j.map(F=>{var V;return((V=F.user)==null?void 0:V.name)||F.name})),a(j.map(F=>({...F,isOnline:!0,lastSeen:new Date})))}),r(D),()=>{console.log(" Cleaning up socket connection"),A(),D.close(),r(null),i(!1),a([])}}else n&&(console.log(" Disconnecting socket - no user"),n.close(),r(null),i(!1),a([]))},[t==null?void 0:t.id]);const h=D=>{if(console.log(" Starting reconnection logic"),c<5){const j=1e3*Math.pow(2,c);console.log(` Reconnecting in ${j}ms...`),setTimeout(()=>{u(F=>F+1),D.connect()},j)}else console.log(" Max reconnections reached, manual reconnection forced"),D.connect()};let m;const _=D=>{m&&clearInterval(m),m=setInterval(()=>{const j=Date.now()-f;console.log(`Time since last ping: ${j}ms`),D&&s&&j>45e3&&(console.log(" Proactive ping sent to prevent timeout"),D.emit("ping",{timestamp:Date.now()}),d(Date.now())),j>18e4?(console.log(" Extended timeout reached - checking connection"),D&&D.connected&&s?(console.log(" Connection verified, resetting last ping"),d(Date.now())):(console.log(" Disconnection confirmed, reconnecting..."),D.connect())):console.log(` Socket maintained: ${j}ms since last ping`)},25e3)},A=()=>{m&&(clearInterval(m),m=null)},pe={socket:n,isConnected:s,onlineUsers:o,notifications:y,sendMessage:(D,j,F="text",V=!1,G=null)=>{if(console.log(" sendMessage called with:",{receiverId:D,content:j,messageType:F,isGroupChat:V,attachment:G,socketStatus:{socket:!!n,isConnected:s,socketId:n==null?void 0:n.id}}),n&&s){console.log(" Emitting send-message event...");let q;return V?(q={sender:t.id,groupId:D,message:j,messageType:F,timestamp:new Date().toISOString()},n.emit("send-group-message",q)):(q={sender:t.id,receiver:D,message:j,messageType:F,timestamp:new Date().toISOString()},n.emit("send-message",q)),console.log(" Message sent successfully:",q),!0}else throw console.error(" Cannot send message: Socket not connected"),new Error("Socket not connected. Please check your connection.")},markMessageRead:(D,j)=>{n&&s&&(n.emit("mark-message-read",{messageId:D,senderId:j}),console.log(" Message read marked for:",{messageId:D,senderId:j}))},startTyping:D=>{n&&s&&n.emit("typing",{sender:t.id,receiver:D,isTyping:!0})},stopTyping:D=>{n&&s&&n.emit("typing",{sender:t.id,receiver:D,isTyping:!1})},isUserOnline:D=>{const j=o.find(F=>F.userId===D);return j?j.isOnline:!1},joinGroup:D=>{n&&s&&(n.emit("join-group",D),console.log(" Joined group room:",D))},leaveGroup:D=>{n&&s&&(n.emit("leave-group",D),console.log(" Left group room:",D))},onReceiveMessage:D=>{n&&(n.off("receive-message"),n.on("receive-message",j=>{console.log(" Received message:",j),D(j)}))},onReceiveGroupMessage:D=>{n&&(n.off("receive-group-message"),n.on("receive-group-message",j=>{console.log(" Received group message:",j),D(j)}))},onMessageSent:D=>{n&&(n.off("message-sent"),n.on("message-sent",j=>{console.log(" Message sent confirmation:",j),D(j)}))},handleActivateUser:g,handleCloseNotification:k,getConnectionStatus:()=>({isConnected:s,reconnectAttempts:c,lastPing:new Date(f).toLocaleString(),socketId:n==null?void 0:n.id})};return l.jsx(Dh.Provider,{value:pe,children:e})};var F1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ie=(e,t)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...c},u)=>S.createElement("svg",{ref:u,...F1,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${$1(e)}`,...c},[...t.map(([f,d])=>S.createElement(f,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${e}`,n},z1=ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),il=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),B1=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),H1=ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ma=ie("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Yi=ie("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),V1=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Fh=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),W1=ie("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Dn=ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ga=ie("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),q1=ie("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),bc=ie("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),G1=ie("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),Rc=ie("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Tc=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),K1=ie("Power",[["path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0",key:"phirl6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"12",key:"aemgbe"}]]),Q1=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ns=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),$h=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Ac=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Pc=ie("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),zh=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Bh=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),wn=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),kn=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Hh=ie("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Y1=ie("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Xi=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),X1=()=>{const[e,t]=S.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=S.useState("user"),[s,i]=S.useState(!1),[o,a]=S.useState(!1),[c,u]=S.useState(!1),[f,d]=S.useState(!0),{login:y,registerSuperAdmin:w}=Jt();S.useEffect(()=>{(async()=>{try{const m=await ts.checkSuperAdmin();u(m.data.exists)}catch(m){console.error("Error checking super admin:",m)}finally{d(!1)}})()},[]);const p=[{value:"user",label:"User",icon:wn,description:"Chat with other users"},{value:"admin",label:"Admin",icon:Pc,description:"Manage users and groups"},{value:"superadmin",label:"Super Admin",icon:Yi,description:"Full system access"}],g=h=>{t({...e,[h.target.name]:h.target.value})},k=async h=>{h.preventDefault(),a(!0);try{if(s&&n==="superadmin"){if(e.password!==e.confirmPassword){W.error("Passwords do not match");return}const m=await w(e.name,e.email,e.password);m.success?W.success("Super Admin registered successfully!"):W.error(m.error)}else{const m=await y(e.email,e.password);m.success?W.success("Login successful!"):m.disabled?W.error("Your account has been disabled by administrator"):W.error(m.error)}}catch{W.error("An error occurred. Please try again.")}finally{a(!1)}},v=()=>{if(!s&&c){W.error("Super admin already exists. Please login instead.");return}i(!s),t({name:"",email:"",password:"",confirmPassword:""})};return f?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:l.jsx("div",{className:"max-w-md w-full space-y-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Internal Chat App"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Checking system status..."}),l.jsx("div",{className:"flex justify-center mt-4",children:l.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Internal Chat App"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:s?"Register as Super Admin":"Sign in to your account"})]}),l.jsxs("div",{className:"card p-8",children:[!s&&l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Role"}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:p.map(h=>{const m=h.icon;return l.jsx("button",{type:"button",onClick:()=>r(h.value),className:`p-3 rounded-lg border-2 transition-all ${n===h.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(m,{className:"w-5 h-5 text-gray-600"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium text-gray-900",children:h.label}),l.jsx("div",{className:"text-sm text-gray-500",children:h.description})]})]})},h.value)})})]}),l.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),l.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:g,className:"input-field mt-1",placeholder:"Enter your full name"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:g,className:"input-field mt-1",placeholder:"Enter your email"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:e.password,onChange:g,className:"input-field mt-1",placeholder:"Enter your password"})]}),s&&l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:e.confirmPassword,onChange:g,className:"input-field mt-1",placeholder:"Confirm your password"})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:o?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),s?"Registering...":"Signing in..."]}):s?"Register Super Admin":"Sign In"})}),l.jsx("div",{className:"text-center",children:l.jsx("button",{type:"button",onClick:v,disabled:f,className:"text-sm text-primary-600 hover:text-primary-500 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Checking system status...":s?"Already have an account? Sign in":c?"Super admin already exists. Please login instead.":"Need to register Super Admin? Click here"})})]})]})]})})},J1=()=>{const{user:e}=Jt(),{notifications:t,handleActivateUser:n,handleCloseNotification:r}=_c(),[s,i]=S.useState({totalUsers:0,totalGroups:0,unreadMessages:0}),[o,a]=S.useState(!0),[c,u]=S.useState(!1);S.useEffect(()=>{f()},[]),S.useEffect(()=>{const w=p=>{if(c){const g=document.querySelector(".notification-panel");g&&!g.contains(p.target)&&u(!1)}};return c&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[c]);const f=async()=>{try{a(!0);const[w,p,g]=await Promise.all([e.role==="user"?pt.getActiveUsers():pt.getUsers(),cn.getMyGroups(),Ue.getUnreadCount()]);i({totalUsers:w.data.length,totalGroups:p.data.length,unreadMessages:g.data.unreadCount})}catch{W.error("Failed to load dashboard data")}finally{a(!1)}},d=w=>{switch(w){case"superadmin":return l.jsx(Yi,{className:"w-5 h-5 text-yellow-600"});case"admin":return l.jsx(Pc,{className:"w-5 h-5 text-blue-600"});default:return l.jsx(wn,{className:"w-5 h-5 text-gray-600"})}},y=w=>{switch(w){case"superadmin":return"bg-yellow-100 text-yellow-800";case"admin":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-6",children:[l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs(qi,{to:"/profile",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[e.profileImage?l.jsx("img",{src:`${nt}${e.profileImage}`,alt:"Profile",className:"w-12 h-12 rounded-full object-cover"}):l.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-primary-600 font-medium text-lg",children:e.name.charAt(0).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),l.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",e.name,"!"]})]})]})}),l.jsxs("div",{className:"flex items-center space-x-4",children:[(e.role==="admin"||e.role==="superadmin")&&l.jsx("div",{className:"relative",children:l.jsxs("button",{onClick:()=>u(!c),className:"relative p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-full transition-colors",children:[l.jsx(il,{className:"w-6 h-6"}),t.length>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t.length})]})}),l.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${y(e.role)}`,children:l.jsxs("div",{className:"flex items-center space-x-1",children:[d(e.role),l.jsx("span",{className:"capitalize",children:e.role})]})})]})]})})}),c&&(e.role==="admin"||e.role==="superadmin")&&l.jsx("div",{className:"notification-panel bg-white border-b shadow-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(il,{className:"w-5 h-5 text-primary-600"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),t.length>0&&l.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t.length})]}),l.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Xi,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"space-y-3",children:t.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(il,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{children:"No notifications yet"})]}):t.map(w=>l.jsx("div",{className:"border border-orange-200 bg-orange-50 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:l.jsx(wn,{className:"w-4 h-4 text-orange-600"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"text-sm font-bold text-orange-700 flex items-center gap-2",children:[l.jsx("span",{children:""}),"Disabled User Login Attempt"]}),l.jsxs("div",{className:"mt-1 text-sm",children:[l.jsx("div",{className:"font-semibold text-gray-900",children:w.userName}),l.jsx("div",{className:"text-gray-600",children:w.userEmail}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Time: ",new Date(w.timestamp).toLocaleTimeString()]})]})]}),l.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>n(w.userId),className:"flex items-center space-x-1 bg-green-600 text-white px-3 py-1.5 rounded-md text-xs font-medium hover:bg-green-700 transition-colors",children:[l.jsx(ma,{className:"w-3 h-3"}),l.jsx("span",{children:"Activate"})]}),l.jsxs("button",{onClick:()=>r(w.id),className:"flex items-center space-x-1 bg-gray-100 text-gray-700 px-3 py-1.5 rounded-md text-xs font-medium hover:bg-gray-200 transition-colors",children:[l.jsx(Xi,{className:"w-3 h-3"}),l.jsx("span",{children:"Close"})]})]})]})},w.id))})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:l.jsx(kn,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalUsers})]})]})}),l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 rounded-full bg-green-100",children:l.jsx(Dn,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"My Groups"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalGroups})]})]})}),l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-3 rounded-full bg-red-100",children:l.jsx(W1,{className:"w-6 h-6 text-red-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Unread Messages"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.unreadMessages})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Quick Chat"}),l.jsx(Dn,{className:"w-5 h-5 text-gray-400"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Start chatting with other users or join group conversations."}),l.jsxs("a",{href:"/chat",className:"btn-primary inline-flex items-center",children:[l.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Open Chat"]})]}),e.role!=="user"&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Management"}),l.jsx(Ac,{className:"w-5 h-5 text-gray-400"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:e.role==="superadmin"?"Manage admins and view all users in the system.":"Manage users and create groups for team communication."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("a",{href:"/users",className:"btn-secondary w-full inline-flex items-center justify-center",children:[l.jsx(Bh,{className:"w-4 h-4 mr-2"}),e.role==="superadmin"?"Manage Admins":"Manage Users"]}),e.role==="admin"&&l.jsxs("a",{href:"/groups",className:"btn-primary w-full inline-flex items-center justify-center",children:[l.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Manage Groups"]})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Info"}),l.jsx(wn,{className:"w-5 h-5 text-gray-400"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Name:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:e.name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:e.email})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Role:"}),l.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${y(e.role)}`,children:e.role})]})]})]}),e.role==="superadmin"&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Overview"}),l.jsx(Yi,{className:"w-5 h-5 text-yellow-600"})]}),l.jsx("p",{className:"text-gray-600 mb-4",children:"You have full access to manage the entire system including admins and all users."}),l.jsxs("div",{className:"text-sm text-gray-500",children:[l.jsx("p",{children:" Create and manage admin accounts"}),l.jsx("p",{children:" View all system users"}),l.jsx("p",{children:" Monitor system activity"})]})]})]})]})]})};class Z1{constructor(){this.socket=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.reconnectDelay=1e3,this.pingInterval=null,this.lastPingTime=Date.now(),this.currentUserId=null,this.listeners=new Map,this.isConnecting=!1}connect(){return this.isConnecting?this.socket:this.socket&&this.socket.connected?this.socket:(console.log(" Creating new socket connection..."),this.isConnecting=!0,this.socket&&(this.socket.disconnect(),this.socket=null),this.socket=ns("http://13.233.120.169:5002",{autoConnect:!0,reconnection:!0,reconnectionDelay:this.reconnectDelay,reconnectionAttempts:this.maxReconnectAttempts,maxReconnectionAttempts:this.maxReconnectAttempts,timeout:2e4,forceNew:!0,multiplex:!1,transports:["websocket","polling"]}),this.setupEventHandlers(),this.isConnecting=!1,this.socket)}setupEventHandlers(){this.socket.on("connect",()=>{this.isConnected=!0,this.reconnectAttempts=0,this.lastPingTime=Date.now(),console.log(" ===== SOCKET CONNECTED ===== "),console.log(" Socket ID:",this.socket.id),console.log(" Connection URL:",this.socket.io.uri),console.log(" Transport:",this.socket.io.engine.transport.name),console.log(" Current User ID:",this.currentUserId),console.log(" Active listeners:",this.listeners.size),console.log("========================================"),this.currentUserId&&this.joinUserRoom(this.currentUserId),this.startPingMonitoring(),this.setupMessageListeners(),this.socket.emit("ping",{timestamp:Date.now()}),console.log(" Enhanced connection alive detection initiated")}),this.socket.on("disconnect",t=>{this.isConnected=!1,console.log(" ===== SOCKET DISCONNECTED ===== "),console.log(" Reason:",t),console.log(" Attempting reconnection..."),console.log("========================================"),this.stopPingMonitoring(),this.attemptReconnection()}),this.socket.on("connect_error",t=>{console.error(" ===== CONNECTION ERROR ===== "),console.error(" Error:",t.message),console.error(" URL:",t.type),console.error(" Status:",t.description),console.error("========================================="),this.attemptReconnection()}),this.socket.on("reconnect",t=>{console.log(" ===== RECONNECTION SUCCESSFUL ===== "),console.log(" Attempts tried:",t),console.log(" New Socket ID:",this.socket.id),console.log("==============================================")}),this.socket.on("ping",t=>{this.lastPingTime=Date.now(),console.log(" Ping received - Connection alive, timestamp:",new Date(this.lastPingTime).toLocaleTimeString())}),this.socket.on("pong",t=>{this.lastPingTime=Date.now(),console.log(" Pong received - Connection confirmed, timestamp:",new Date(this.lastPingTime).toLocaleTimeString())}),this.socket.on("connect_timeout",()=>{console.log(" ===== CONNECTION TIMEOUT ===== "),console.log(" Socket connection timed out"),console.log("======================================")}),this.socket.on("reconnect_error",t=>{console.error(" ===== RECONNECTION ERROR ===== "),console.error("Error:",t.message),console.error("========================================")}),this.socket.on("reconnect_failed",()=>{console.error(" ===== FAILED RECONNECTION ===== "),console.error(" Socket reconnection permanently failed"),console.error(" Attempting force reconnect..."),console.error("===========================================")})}setupMessageListeners(){console.log(" ===== SETTING UP MESSAGE LISTENERS ===== "),console.log(" Total listeners to register:",this.listeners.size);for(const[t,n]of this.listeners)this.socket&&(this.socket.removeAllListeners(t),this.socket.on(t,n),console.log(` Re-registered listener: ${t}`));console.log(" ===== ALL LISTENERS ACTIVE ===== "),console.log(" Socket ready for real-time messaging"),console.log("========================================")}maintainConnection(){console.log(" ===== MAINTAINING PERSISTENT CONNECTION ===== "),!this.isConnected||!this.socket?(console.log(" Socket disconnected, reconnecting..."),this.connect()):(console.log(" Socket is connected, maintaining listeners"),this.setupMessageListeners(),this.socket&&this.isConnected&&(this.socket.emit("ping",{timestamp:Date.now()}),this.lastPingTime=Date.now(),console.log("Keep-alive ping sent - Connection maintained"),setTimeout(()=>{this.socket&&this.isConnected&&this.socket.emit("pong",{timestamp:Date.now()})},100))),console.log("==============================================")}forceChatroomReception(){console.log(" FORCING CHATROOM MESSAGE RECEPTION"),this.socket&&this.isConnected?(this.setupMessageListeners(),console.log(" Chatroom reception listeners reinforced")):(console.log(" Socket not available for chatroom reinforcement"),this.connect()),console.log("=====")}startPingMonitoring(){this.pingInterval&&clearInterval(this.pingInterval),this.pingInterval=setInterval(()=>{const t=Date.now()-this.lastPingTime;if(console.log(` Health check: Time since last ping: ${t}ms`),this.socket&&this.isConnected&&t>45e3&&(console.log(" Proactive ping sent to prevent timeout"),this.socket.emit("ping",{timestamp:Date.now()}),this.lastPingTime=Date.now()),t>18e4){if(console.log(" Extended timeout reached - checking real disconnection"),this.socket&&this.socket.connected&&this.isConnected){console.log(" Socket connection verified alive, resetting timer"),this.lastPingTime=Date.now();return}console.log(" Real disconnection confirmed, force reconnecting..."),this.forceReconnect()}else console.log(` Socket health maintained: ${t}ms response time`)},25e3)}stopPingMonitoring(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}attemptReconnection(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(" ===== ATTEMPTING RECONNECTION ===== "),console.log(` Attempt: ${this.reconnectAttempts}/${this.maxReconnectAttempts}`),console.log(` Delay: ${this.reconnectDelay*this.reconnectAttempts}ms`),console.log("===================="),setTimeout(()=>{console.log(" Executing reconnection..."),this.connect()},this.reconnectDelay*this.reconnectAttempts)):(console.log(" ===== MAX ATTEMPTS REACHED ===== "),console.log(" Forcing socket reset..."),setTimeout(()=>{this.forceReconnect()},this.reconnectDelay*5),console.log("====================================="))}forceReconnect(){console.log(" Force reconnecting socket..."),this.stopPingMonitoring(),this.reconnectAttempts=0,this.socket&&(this.socket.disconnect(),this.socket=null),setTimeout(()=>{this.connect()},2e3)}disconnect(){this.stopPingMonitoring(),this.listeners.clear(),this.socket&&(this.socket.disconnect(),this.socket=null),this.isConnected=!1,this.currentUserId=null}joinUserRoom(t){this.currentUserId=t,this.socket&&this.isConnected?(this.socket.emit("join",t),console.log(" Joined user room:",t)):console.log(" Waiting to join user room after connection...")}joinGroupRoom(t){this.socket&&this.socket.emit("join-group",t)}leaveGroupRoom(t){this.socket&&this.socket.emit("leave-group",t)}sendPersonalMessage(t){var n;if(console.log(" ===== SENDING PERSONAL MESSAGE ===== "),console.log(" Data:",t),console.log(" Socket available:",!!this.socket),console.log(" Socket connected:",this.isConnected),console.log(" Socket ID:",(n=this.socket)==null?void 0:n.id),!this.socket||!this.isConnected){console.log(" Socket not connected, connecting first..."),this.connect(),setTimeout(()=>{this.socket&&this.isConnected?(console.log(" Retrying message send after connection"),this.socket.emit("send-message",t),console.log(" Personal message retry sent successfully")):console.error(" Still not connected after retry")},2e3);return}this.ensureConnected(),this.socket&&this.isConnected?(this.socket.emit("send-message",t),console.log(" Personal message sent successfully"),setTimeout(()=>{this.socket&&this.isConnected&&this.socket.emit("ping",{timestamp:Date.now()})},100)):console.error(" Socket lost connection before sending message"),console.log("=============================================")}sendGroupMessage(t){var n;if(console.log(" ===== SENDING GROUP MESSAGE ===== "),console.log(" Data:",t),console.log(" Socket available:",!!this.socket),console.log(" Socket connected:",this.isConnected),console.log(" Socket ID:",(n=this.socket)==null?void 0:n.id),!this.socket||!this.isConnected){console.log(" Socket not connected, connecting first..."),this.connect(),setTimeout(()=>{this.socket&&this.isConnected?(console.log(" Retrying group message send after connection"),this.socket.emit("send-group-message",t),console.log(" Group message retry sent successfully")):console.error(" Still not connected after retry")},2e3);return}this.socket.emit("send-group-message",t),console.log(" Group message sent successfully"),console.log("============================================")}onReceiveMessage(t){console.log(" Registering onReceiveMessage listener"),this.registerListener("receive-message",n=>{console.log(" Received message:",n);const r={...n,_isExternalMessage:!0,_timestamp:new Date().toISOString()};t(r)}),setTimeout(()=>{this.socket&&this.isConnected&&(this.socket.off("receive-message"),this.socket.on("receive-message",n=>{console.log(" Maintained receive-message listener:",n);const r={...n,_isExternalMessage:!0,_timestamp:new Date().toISOString()};t(r)}),console.log(" Listener re-registered for chatroom persistence"))},1e3)}onReceiveGroupMessage(t){console.log(" Registering onReceiveGroupMessage listener"),this.registerListener("receive-group-message",n=>{console.log(" Received group message:",n);const r={...n,_isExternalMessage:!0,_timestamp:new Date().toISOString()};t(r)})}onMessageSent(t){console.log(" Registering onMessageSent listener"),this.registerListener("message-sent",n=>{console.log(" Message sent confirmation:",n);const r={...n,_isOurMessage:!0,_isConfirmation:!0,_timestamp:new Date().toISOString()};t(r)})}registerListener(t,n){this.listeners.set(t,n),console.log(` Stored listener for event: ${t}`),this.socket&&this.isConnected?(this.socket.off(t),this.socket.on(t,n),console.log(` Listener immediately registered for event: ${t}`)):console.log(` Listener queued for event: ${t} (waiting for connection)`)}onGroupMessageSent(t){this.registerListener("group-message-sent",t)}onTyping(t){this.registerListener("user-typing",t)}sendTyping(t){this.socket&&this.isConnected&&this.socket.emit("typing",t)}onError(t){this.registerListener("error",t)}onAvatarUpdate(t){this.registerListener("avatar-updated",t)}onUserProfileUpdate(t){this.registerListener("user-profile-updated",t)}removeAllListeners(){this.listeners.clear(),this.socket&&(this.socket.removeAllListeners(),this.socket.on("connect",()=>{this.isConnected=!0,this.reconnectAttempts=0,this.lastPingTime=Date.now(),this.currentUserId&&this.joinUserRoom(this.currentUserId),this.startPingMonitoring(),this.setupMessageListeners()}))}ensureConnected(){return!this.socket||!this.isConnected?(console.log(" Ensuring socket connection..."),this.connect()):!0}getConnectionStatus(){var t;return{isConnected:this.isConnected,socketId:(t=this.socket)==null?void 0:t.id,lastPing:new Date(this.lastPingTime).toLocaleString(),listenersCount:this.listeners.size}}logConnectionStatus(){var t,n,r,s,i,o,a;console.log(" ===== SOCKET STATUS REPORT ===== "),console.log(" Is Connected:",this.isConnected?" YES":" NO"),console.log(" Socket ID:",((t=this.socket)==null?void 0:t.id)||"N/A"),console.log(" Connection URL:",((r=(n=this.socket)==null?void 0:n.io)==null?void 0:r.uri)||"N/A"),console.log(" Transport:",((a=(o=(i=(s=this.socket)==null?void 0:s.io)==null?void 0:i.engine)==null?void 0:o.transport)==null?void 0:a.name)||"N/A"),console.log(" Current User ID:",this.currentUserId||"Not set"),console.log(" Active Listeners:",this.listeners.size),console.log(" Reconnect Attempts:",this.reconnectAttempts),console.log(" Last Ping:",new Date(this.lastPingTime).toLocaleTimeString()),console.log(" Listeners registered:",Array.from(this.listeners.keys()).join(", ")||"None"),console.log("========================================")}testConnection(){console.log(" ===== TESTING SOCKET CONNECTION ===== "),this.logConnectionStatus(),this.socket&&(console.log(" Emitting test ping..."),this.socket.emit("ping")),console.log("============================================")}forceConnectionTest(){console.log(" ===== MANUAL CONNECTION FORCE TEST ===== "),this.connect(),setTimeout(()=>{this.testConnection()},3e3),console.log("=============================================")}reset(){console.log(" Resetting socket service..."),this.disconnect(),this.currentUserId=null,this.listeners.clear(),this.reconnectAttempts=0,this.isConnecting=!1,clearTimeout(this.reconnectTimeout)}}const Re=new Z1,Nd=()=>{const{user:e,logout:t}=Jt(),{socket:n,isConnected:r,sendMessage:s,joinGroup:i,leaveGroup:o,onReceiveMessage:a,onReceiveGroupMessage:c,onMessageSent:u,getConnectionStatus:f}=_c(),[d,y]=S.useState([]),[w,p]=S.useState([]),[g,k]=S.useState(null),[v,h]=S.useState([]),[m,_]=S.useState(""),[A,N]=S.useState(""),[L,b]=S.useState(!0),[z,B]=S.useState({}),[X,oe]=S.useState({}),le=S.useRef(null);S.useEffect(()=>((async()=>{try{console.log(" Loading chat state from database for UserDashboard...");const E=await Ue.getChatState(),{personalChats:O,groupChats:P}=E.data,U={},M={};O.forEach($=>{var Q,Y,ne;$.unreadCount>0&&(U[$.chatId]=$.unreadCount),$.lastMessage&&$.lastMessage.message&&(M[$.chatId]={id:$.lastMessage._id||$.lastMessage.id,message:$.lastMessage.message,senderName:$.lastMessage.senderName||((Q=$.lastMessage.sender)==null?void 0:Q.name)||"User",senderId:$.lastMessage.senderId||((Y=$.lastMessage.sender)==null?void 0:Y._id)||((ne=$.lastMessage.sender)==null?void 0:ne.id),timestamp:$.lastMessage.createdAt||$.lastMessage.timestamp})}),P.forEach($=>{var Q,Y,ne;$.unreadCount>0&&(U[$.chatId]=$.unreadCount),$.lastMessage&&$.lastMessage.message&&(M[$.chatId]={id:$.lastMessage._id||$.lastMessage.id,message:$.lastMessage.message,senderName:$.lastMessage.senderName||((Q=$.lastMessage.sender)==null?void 0:Q.name)||"User",senderId:$.lastMessage.senderId||((Y=$.lastMessage.sender)==null?void 0:Y._id)||((ne=$.lastMessage.sender)==null?void 0:ne.id),timestamp:$.lastMessage.createdAt||$.lastMessage.timestamp})}),B(U),oe(M),console.log(" UserDashboard chat state loaded from database:",{unreadCounts:U,lastMessages:Object.keys(M).length})}catch(E){console.error("Error loading chat state from database:",E)}})(),Ze(),pe(),()=>{}),[]),S.useEffect(()=>(g&&(V(),pe(),g.type==="group"&&(i(g.id),console.log(" UserDashboard joined group room for:",g.name))),()=>{Re.removeAllListeners(),g&&g.type==="group"&&(o(g.id),console.log(" UserDashboard left group room for:",g.name)),Re.healthCheckInterval&&(clearInterval(Re.healthCheckInterval),delete Re.healthCheckInterval)}),[g]),S.useEffect(()=>{q()},[v]);const we=async()=>{try{console.log(" Refreshing UserDashboard chat state from database...");const x=await Ue.getChatState(),{personalChats:E,groupChats:O}=x.data,P={},U={};E.forEach(M=>{var $,Q,Y;M.unreadCount>0&&(P[M.chatId]=M.unreadCount),M.lastMessage&&M.lastMessage.message&&(U[M.chatId]={id:M.lastMessage._id||M.lastMessage.id,message:M.lastMessage.message,senderName:M.lastMessage.senderName||(($=M.lastMessage.sender)==null?void 0:$.name)||"User",senderId:M.lastMessage.senderId||((Q=M.lastMessage.sender)==null?void 0:Q._id)||((Y=M.lastMessage.sender)==null?void 0:Y.id),timestamp:M.lastMessage.createdAt||M.lastMessage.timestamp})}),O.forEach(M=>{var $,Q,Y;M.unreadCount>0&&(P[M.chatId]=M.unreadCount),M.lastMessage&&M.lastMessage.message&&(U[M.chatId]={id:M.lastMessage._id||M.lastMessage.id,message:M.lastMessage.message,senderName:M.lastMessage.senderName||(($=M.lastMessage.sender)==null?void 0:$.name)||"User",senderId:M.lastMessage.senderId||((Q=M.lastMessage.sender)==null?void 0:Q._id)||((Y=M.lastMessage.sender)==null?void 0:Y.id),timestamp:M.lastMessage.createdAt||M.lastMessage.timestamp})}),B(P),oe(U),console.log(" UserDashboard chat state refreshed from database")}catch(x){console.error("Error refreshing UserDashboard chat state:",x)}};S.useEffect(()=>{window.testSocketDashboard=()=>{Re.testConnection()},window.checkSocketDashboard=()=>{Re.logConnectionStatus()},window.forceSocketConnectDashboard=()=>{Re.forceConnectionTest()},console.log(" UserDashboard Socket debugging methods available:"),console.log(" - testSocketDashboard() - Test socket connection status"),console.log(" - checkSocketDashboard() - Show current socket status"),console.log(" - forceSocketConnectDashboard() - Force reconnection")},[]);const Ze=async()=>{try{b(!0);const[x,E]=await Promise.all([pt.getActiveUsers(),cn.getMyGroups()]);y(x.data.filter(O=>O.id!==e.id)),p(E.data)}catch(x){console.error("Error fetching dashboard data:",x),W.error("Failed to load dashboard data")}finally{b(!1)}},pe=()=>{console.log(" Setting up enhanced UserDashboard socket listeners with Context API...");const x=f();console.log(" Current socket status:",x),a(E=>{var Y,ne;console.log(" USERDASHBOARD CONTEXT - received message:",E);const O=typeof E.sender=="object"?E.sender.id||E.sender._id:E.sender,P=typeof E.receiver=="object"?E.receiver.id||E.receiver._id:E.receiver,U=E.id||E._id||E.messageId,M=E.message||E.content,$=O===e.id||O===e._id||O===((Y=e.id)==null?void 0:Y.toString())||O===((ne=e._id)==null?void 0:ne.toString());if(E._isConfirmation||E.isConfirmMessage||E.isMessageSentConfirmation){console.log(" Skipping confirmation message");return}const Q=D(E,g,e);if(console.log(" ENHANCED USERDASHBOARD MESSAGE FILTERING:",{senderId:O,receiverId:P,messageId:U,messageText:M,selectedChatId:g==null?void 0:g.id,selectedChatType:g==null?void 0:g.type,currentUserId:e.id,isCurrentUserSender:$,isForCurrentChat:Q,messageData:E}),Q&&g)console.log(" Processing message for current active dashboard chat"),$?console.log(" Message from current user - handled by optimistic updates"):(console.log(" Adding external message to current dashboard chat immediately"),h(te=>{if(te.some(ae=>{var ct,Tt;const vt=ae.id||ae._id||ae.messageId,ve=ae.message||ae.content,at=((ct=ae.sender)==null?void 0:ct.id)||((Tt=ae.sender)==null?void 0:Tt._id)||ae.sender,ze=ae.createdAt||ae.timestamp,Be=E.createdAt||E.timestamp;return!!(vt===U&&U||ve===M&&String(at)===String(O)&&Be&&ze&&Math.abs(new Date(Be)-new Date(ze))<5e3||ae.isOptimistic&&ve===M&&String(at)===String(O)&&Be&&ze&&Math.abs(new Date(Be)-new Date(ze))<1e4)}))return console.log(" UserDashboard enhanced detection: Message already exists - confirmed duplicate",{messageId:U,messageText:M==null?void 0:M.substring(0,20),senderId:O,isDuplicate:!0}),te;console.log(" REAL-TIME USERDASHBOARD: NEW message confirmed - Adding to active chat",{messageId:U,messageText:M==null?void 0:M.substring(0,20),senderId:O,isDuplicate:!1});const Ce=j(E,O);return F(g.id,E,O),setTimeout(()=>{we()},100),[...te,Ce]}));else if(M&&!$){const te=O||E.sender;te&&te!==e.id&&(console.log(" Incrementing unread count for dashboard chat:",te),B(ue=>({...ue,[te]:(ue[te]||0)+1})),F(te,E,O),setTimeout(()=>{we()},100))}}),u(E=>{console.log(" Dashboard message sent confirmation received:",E)}),c(E=>{var Y,ne,te,ue;console.log(" USERDASHBOARD GROUP MESSAGE CONTEXT - received message:",E);const O=typeof E.sender=="object"?E.sender.id||E.sender._id:E.sender,P=E.groupId||((Y=E.group)==null?void 0:Y.id)||((ne=E.group)==null?void 0:ne._id),U=E.id||E._id||E.messageId,M=E.message||E.content,$=O===e.id||O===e._id||O===((te=e.id)==null?void 0:te.toString())||O===((ue=e._id)==null?void 0:ue.toString());if(E._isConfirmation||E.isConfirmMessage||E.isMessageSentConfirmation){console.log(" Skipping confirmation message");return}const Q=g&&g.type==="group"&&(P===g.id||String(P)===String(g.id));if(console.log(" USERDASHBOARD GROUP MESSAGE FILTERING:",{senderId:O,groupId:P,messageId:U,messageText:M,selectedChatId:g==null?void 0:g.id,selectedChatType:g==null?void 0:g.type,currentUserId:e.id,isCurrentUserSender:$,isForCurrentGroup:Q,messageData:E}),Q&&g)console.log(" Processing group message for current UserDashboard group"),$?console.log(" Group message from current user - handled by optimistic updates"):(console.log(" Adding external group message to current dashboard chat immediately"),h(Ce=>{if(Ce.some(ve=>{var Gn,Oc;const at=ve.id||ve._id||ve.messageId,ze=ve.message||ve.content,Be=((Gn=ve.sender)==null?void 0:Gn.id)||((Oc=ve.sender)==null?void 0:Oc._id)||ve.sender,ct=ve.createdAt||ve.timestamp,Tt=E.createdAt||E.timestamp;return!!(at===U&&U||ze===M&&String(Be)===String(O)&&Tt&&ct&&Math.abs(new Date(Tt)-new Date(ct))<5e3||ve.isOptimistic&&ze===M&&String(Be)===String(O)&&Tt&&ct&&Math.abs(new Date(Tt)-new Date(ct))<1e4)}))return console.log(" USERDASHBOARD GROUP duplicate detection: Message already exists",{messageId:U,messageText:M==null?void 0:M.substring(0,20),senderId:O==null?void 0:O.toString(),isDuplicate:!0}),Ce;console.log(" USERDASHBOARD GROUP REAL-TIME: NEW message confirmed - Adding to active group",{messageId:U,messageText:M==null?void 0:M.substring(0,20),senderId:O,groupId:P});const vt=j(E,O);return F(g.id,E,O),setTimeout(()=>{we()},100),[...Ce,vt]}));else if(M&&!$){const Ce=P||E.groupId;Ce&&(!g||g.type!=="group"||String(Ce)!==String(g.id))&&(console.log(" UserDashboard incrementing unread count for group:",Ce),B(vt=>({...vt,[Ce]:(vt[Ce]||0)+1})),F(Ce,E,O),setTimeout(()=>{we()},100))}})},D=(x,E,O)=>{var $,Q,Y,ne;if(!E)return!1;const P=(($=x.sender)==null?void 0:$.id)||((Q=x.sender)==null?void 0:Q._id)||x.sender,U=((Y=x.receiver)==null?void 0:Y.id)||((ne=x.receiver)==null?void 0:ne._id)||x.receiver,M=x.chatId||x.chatRoom;return E.type==="personal"&&E.id&&(P===E.id&&U===O.id||P===O.id&&U===E.id||String(P)===String(E.id)||String(U)===String(E.id))?!0:E.type==="group"?M===E.id||x.groupId===E.id:!1},j=(x,E)=>{var O,P;return{id:x.id||x._id||x.messageId,message:x.message||x.content,sender:typeof x.sender=="object"?x.sender:{id:E,name:x.senderName||((O=x.sender)==null?void 0:O.name)||"User",profileImage:x.senderProfileImage||((P=x.sender)==null?void 0:P.profileImage)},createdAt:x.createdAt||x.timestamp||new Date().toISOString(),timestamp:x.timestamp||x.createdAt,isFromOtherUser:!(E===e.id||E===e._id)}},F=(x,E,O)=>{const P=O===e.id||O===e._id;oe(U=>{var M;return{...U,[x]:{id:E.id||E._id||E.messageId,message:E.message||E.content,senderName:P?"You":E.senderName||((M=E.sender)==null?void 0:M.name)||"User",senderId:O,timestamp:E.createdAt||E.timestamp||new Date().toISOString()}}})},V=async()=>{var x;try{let E;if(g.type==="personal"){if(!g.id){console.error("User ID is undefined for personal chat");return}E=await Ue.getPersonalMessages(g.id)}else{if(!g.id){console.error("Group ID is undefined for group chat");return}E=await Ue.getGroupMessages(g.id)}const O=E.data;if(h(O),O.length>0){const P=O[O.length-1];F(g.id,P,((x=P.sender)==null?void 0:x.id)||P.sender)}}catch(E){console.error("Error fetching messages:",E),W.error("Failed to load messages")}},G=async x=>{if(x.preventDefault(),!m.trim()||!g)return;if(g.type==="personal"&&g.isActive===!1){W.error("Cannot send messages to disabled users");return}const E=m.trim();_("");try{const O={id:Date.now(),message:E,sender:{id:e.id,name:e.name,profileImage:e.profileImage},createdAt:new Date().toISOString(),timestamp:new Date().toISOString(),isOptimistic:!0};if(h(P=>[...P,O]),F(g.id,{id:O.id,message:O.message,createdAt:O.createdAt},e.id),g.type==="personal")try{await s(g.id,E,"text",!1),console.log(" Dashboard message sent via context socket")}catch(P){console.warn("Context socket failed, trying API:",P),await Ue.sendPersonalMessage({sender:e.id,receiver:g.id,message:E,timestamp:new Date().toISOString()})}else try{await s(g.id,E,"text",!0),console.log(" Dashboard group message sent via context socket")}catch(P){console.warn("Context group socket failed, trying API:",P),await Ue.sendGroupMessage({sender:e.id,group:g.id,message:E,timestamp:new Date().toISOString()})}console.log(" Dashboard message sent successfully")}catch(O){console.error(" Failed to send dashboard message:",O),W.error("Failed to send message"),h(P=>P.filter(U=>!U.isOptimistic))}},q=()=>{var x;(x=le.current)==null||x.scrollIntoView({behavior:"smooth"})},et=()=>{t(),W.success("Logged out successfully")},T=[...d.map(x=>({id:x.id,name:x.name,email:x.email,type:"personal",avatar:x.name.charAt(0).toUpperCase(),profileImage:x.profileImage,lastMessage:X[x.id]||null,isActive:x.isActive})),...w.map(x=>{var E;return{id:x.id,name:x.name,email:`${((E=x.members)==null?void 0:E.length)||0} members`,type:"group",avatar:"G",lastMessage:X[x.id]||null}})].filter(x=>x.name.toLowerCase().includes(A.toLowerCase())||x.email.toLowerCase().includes(A.toLowerCase()));return L?l.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):l.jsx("div",{className:"h-screen bg-gray-50 flex",children:l.jsxs("div",{className:"w-full h-screen flex bg-white shadow-lg",children:[l.jsxs("div",{className:"w-1/3 min-w-[300px] max-w-[400px] bg-white border-r border-gray-200 flex flex-col",children:[l.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"WhatsApp Chat"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(qi,{to:"/profile",className:"text-gray-500 hover:text-gray-700",children:l.jsx(Ac,{className:"w-5 h-5"})}),l.jsx("button",{onClick:et,className:"p-1 text-gray-500 hover:text-gray-700",title:"Logout",children:l.jsx(V1,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"flex items-center space-x-3 mb-3",children:l.jsxs(qi,{to:"/profile",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[e.profileImage?l.jsx("img",{src:`${nt}${e.profileImage}`,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}):l.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white font-medium",children:e.name.charAt(0).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),l.jsx("p",{className:"text-xs text-green-600",children:"Online"})]})]})}),l.jsxs("div",{className:"relative",children:[l.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search or start new chat",value:A,onChange:x=>N(x.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[T.map(x=>l.jsx("div",{onClick:()=>{console.log("Selecting chat:",x),k({type:x.type,id:x.id,name:x.name,profileImage:x.profileImage,isActive:x.isActive!==!1}),z[x.id]&&(B(E=>{const O={...E};return delete O[x.id],O}),Ue.updateChatState({chatId:x.id,chatType:x.type,action:"clear_unread"}).catch(E=>{console.error("Error clearing unread count:",E)}))},className:`p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 ${(g==null?void 0:g.id)===x.id&&(g==null?void 0:g.type)===x.type?"bg-green-50":""} ${x.type==="personal"&&x.isActive===!1?"opacity-60 bg-red-50 border-l-4 border-red-300":""}`,title:x.type==="personal"&&x.isActive===!1?"Disabled User":"",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-12 h-12 rounded-full overflow-hidden ${x.type==="personal"&&x.isActive===!1?"bg-gray-300":"bg-gray-200"}`,children:x.type==="personal"?x.profileImage?l.jsx("img",{src:`${nt}${x.profileImage}`,alt:x.name,className:`w-full h-full object-cover ${x.isActive===!1?"grayscale opacity-70":""}`}):l.jsx("div",{className:`w-full h-full ${x.isActive===!1?"bg-gray-400":"bg-green-500"} flex items-center justify-center`,children:l.jsx("span",{className:"text-white font-semibold text-lg",children:x.avatar})}):l.jsx("div",{className:"w-full h-full bg-green-500 flex items-center justify-center",children:l.jsx(kn,{className:"w-6 h-6 text-white"})})}),x.type==="personal"&&x.isActive!==!1&&l.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 rounded-full border-2 border-white"}),x.type==="personal"&&x.isActive===!1&&l.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-red-500 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-bold",children:""})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:`truncate ${x.type==="personal"&&x.isActive===!1?"font-medium text-red-700 line-through":"font-medium text-gray-900"}`,children:[x.name,x.type==="personal"&&x.isActive===!1&&l.jsx("span",{className:"ml-2 text-xs text-red-500",children:"(Disabled)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"12:30"}),z[x.id]&&z[x.id]>0&&l.jsx("div",{className:"bg-green-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:z[x.id]>99?"99+":z[x.id]})]})]}),l.jsx("p",{className:`text-sm truncate ${x.type==="personal"&&x.isActive===!1?"text-red-400":"text-gray-500"}`,children:x.type==="personal"&&x.isActive===!1?"User is disabled - cannot send new messages":x.lastMessage&&x.lastMessage.message?`${x.lastMessage.senderName||"You"}: ${x.lastMessage.message}`:"No messages yet"})]})]})},`${x.type}-${x.id}`)),T.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Dn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500 text-sm",children:A?"No chats found.":"No chats available."})]})]})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:g?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200",children:g.type==="personal"?g.profileImage?l.jsx("img",{src:`${nt}${g.profileImage}`,alt:g.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-green-500 flex items-center justify-center",children:l.jsx("span",{className:"text-white font-semibold",children:g.name.charAt(0).toUpperCase()})}):l.jsx("div",{className:"w-full h-full bg-green-500 flex items-center justify-center",children:l.jsx(kn,{className:"w-5 h-5 text-white"})})}),l.jsxs("div",{children:[l.jsxs("h3",{className:`font-semibold ${g.type==="personal"&&g.isActive===!1?"text-red-700":"text-gray-900"}`,children:[g.name,g.type==="personal"&&g.isActive===!1&&l.jsx("span",{className:"ml-2 text-xs text-red-500",children:"(Disabled)"})]}),l.jsx("p",{className:`text-xs ${g.type==="personal"&&g.isActive===!1?"text-red-400":"text-gray-500"}`,children:g.type==="personal"?g.isActive===!1?"User is disabled - viewing mode only":"last seen today at 10:30 AM":`${g.email}`})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(G1,{className:"w-5 h-5 text-gray-600 cursor-pointer hover:text-gray-800"}),l.jsx(Hh,{className:"w-5 h-5 text-gray-600 cursor-pointer hover:text-gray-800"}),l.jsx(ga,{className:"w-5 h-5 text-gray-600 cursor-pointer hover:text-gray-800"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 relative",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.map((x,E)=>{var M,$,Q,Y,ne,te;let O=!1;if(typeof x.sender=="object"&&x.sender!==null){const ue=x.sender._id||x.sender.id;O=ue===e.id||ue===e._id||ue===((M=e.id)==null?void 0:M.toString())||ue===(($=e._id)==null?void 0:$.toString())}else O=x.sender===e.id||x.sender===e._id||x.sender===((Q=e.id)==null?void 0:Q.toString())||x.sender===((Y=e._id)==null?void 0:Y.toString());const P=typeof x.sender=="object"?(ne=x.sender)==null?void 0:ne.name:"User",U=typeof x.sender=="object"?(te=x.sender)==null?void 0:te.profileImage:null;return l.jsx("div",{className:`flex ${O?"justify-end":"justify-start"} mb-4`,children:l.jsxs("div",{className:`flex items-start gap-2 max-w-sm lg:max-w-md ${O?"flex-row-reverse":"flex-row"}`,children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-300 flex-shrink-0",children:O?e.profileImage?l.jsx("img",{src:`${nt}${e.profileImage}`,alt:e.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-green-500 flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-medium",children:e.name.charAt(0).toUpperCase()})}):U?l.jsx("img",{src:`${nt}${U}`,alt:P,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gray-400 flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-medium",children:String(P).charAt(0).toUpperCase()})})}),l.jsxs("div",{className:`flex flex-col px-3 py-2 rounded-lg ${O?"bg-green-500 text-white rounded-br-none":"bg-gray-200 text-gray-900 rounded-bl-none"}`,children:[l.jsx("p",{className:"text-sm mb-1 break-words",children:x.message}),l.jsx("p",{className:`text-xs self-end ${O?"text-green-100":"text-gray-500"}`,children:new Date(x.createdAt||x.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},x.id||x._id||E)}),l.jsx("div",{ref:le})]})}),l.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:g.type==="personal"&&g.isActive===!1?l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg px-4 py-3 w-full text-center",children:l.jsx("p",{className:"text-red-600 text-sm font-medium",children:"This user is disabled. You can view previous messages but cannot send new ones."})})}):l.jsxs("form",{onSubmit:G,className:"flex items-center space-x-3",children:[l.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700",children:l.jsx(q1,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex-1 relative",children:l.jsx("input",{type:"text",value:m,onChange:x=>_(x.target.value),placeholder:"Type a message",className:"w-full py-2 px-4 bg-gray-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-green-400"})}),l.jsx("button",{type:"submit",disabled:!m.trim(),className:"bg-green-500 text-white p-2 rounded-full hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx($h,{className:"w-5 h-5"})})]})})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Dn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Welcome to WhatsApp Chat"}),l.jsx("p",{className:"text-gray-500 max-w-md",children:"Select a conversation from the sidebar to start messaging. Your conversations will appear on the left side."})]})})})]})})},ew=()=>{const{user:e}=Jt(),{socket:t,isConnected:n,sendMessage:r,joinGroup:s,leaveGroup:i,onReceiveMessage:o,onReceiveGroupMessage:a,onMessageSent:c,getConnectionStatus:u}=_c(),[f,d]=S.useState([]),[y,w]=S.useState([]),[p,g]=S.useState(null),[k,v]=S.useState([]),[h,m]=S.useState(""),[_,A]=S.useState(""),[N,L]=S.useState(!0),[b,z]=S.useState({}),[B,X]=S.useState({}),oe=S.useRef(null);S.useEffect(()=>((async()=>{try{console.log(" Loading chat state from database...");const T=await Ue.getChatState(),{personalChats:x,groupChats:E}=T.data,O={},P={};x.forEach(U=>{var M,$,Q;U.unreadCount>0?O[U.chatId]=U.unreadCount:delete O[U.chatId],U.lastMessage&&U.lastMessage.message&&(P[U.chatId]={id:U.lastMessage._id||U.lastMessage.id,message:U.lastMessage.message,senderName:U.lastMessage.senderName||((M=U.lastMessage.sender)==null?void 0:M.name)||"User",senderId:U.lastMessage.senderId||(($=U.lastMessage.sender)==null?void 0:$._id)||((Q=U.lastMessage.sender)==null?void 0:Q.id),timestamp:U.lastMessage.createdAt||U.lastMessage.timestamp})}),E.forEach(U=>{var M,$,Q;U.unreadCount>0?O[U.chatId]=U.unreadCount:delete O[U.chatId],U.lastMessage&&U.lastMessage.message&&(P[U.chatId]={id:U.lastMessage._id||U.lastMessage.id,message:U.lastMessage.message,senderName:U.lastMessage.senderName||((M=U.lastMessage.sender)==null?void 0:M.name)||"User",senderId:U.lastMessage.senderId||(($=U.lastMessage.sender)==null?void 0:$._id)||((Q=U.lastMessage.sender)==null?void 0:Q.id),timestamp:U.lastMessage.createdAt||U.lastMessage.timestamp})}),z(O),X(P),console.log(" Chat state loaded from database:",{unreadCounts:O,lastMessages:Object.keys(P).length})}catch(T){console.error("Error loading chat state from database:",T)}})(),we(),()=>{Re.removeAllListeners(),Re.healthCheckInterval&&(clearInterval(Re.healthCheckInterval),delete Re.healthCheckInterval)}),[]),S.useEffect(()=>(p&&(F(),Ze(),p.type==="group"&&(s(p.id),console.log(" Joined group room for:",p.name))),()=>{Re.removeAllListeners(),p&&p.type==="group"&&(i(p.id),console.log(" Left group room for:",p.name)),Re.healthCheckInterval&&(clearInterval(Re.healthCheckInterval),delete Re.healthCheckInterval)}),[p]),S.useEffect(()=>{G()},[k]);const le=async()=>{try{console.log(" Refreshing chat state from database...");const R=await Ue.getChatState(),{personalChats:T,groupChats:x}=R.data,E={},O={};T.forEach(P=>{var U,M,$;P.unreadCount>0&&(E[P.chatId]=P.unreadCount),P.lastMessage&&P.lastMessage.message&&(O[P.chatId]={id:P.lastMessage._id||P.lastMessage.id,message:P.lastMessage.message,senderName:P.lastMessage.senderName||((U=P.lastMessage.sender)==null?void 0:U.name)||"User",senderId:P.lastMessage.senderId||((M=P.lastMessage.sender)==null?void 0:M._id)||(($=P.lastMessage.sender)==null?void 0:$.id),timestamp:P.lastMessage.createdAt||P.lastMessage.timestamp})}),x.forEach(P=>{var U,M,$;P.unreadCount>0&&(E[P.chatId]=P.unreadCount),P.lastMessage&&P.lastMessage.message&&(O[P.chatId]={id:P.lastMessage._id||P.lastMessage.id,message:P.lastMessage.message,senderName:P.lastMessage.senderName||((U=P.lastMessage.sender)==null?void 0:U.name)||"User",senderId:P.lastMessage.senderId||((M=P.lastMessage.sender)==null?void 0:M._id)||(($=P.lastMessage.sender)==null?void 0:$.id),timestamp:P.lastMessage.createdAt||P.lastMessage.timestamp})}),z(E),X(O),console.log(" Chat state refreshed from database")}catch(R){console.error("Error refreshing chat state:",R)}};S.useEffect(()=>{window.testSocket=()=>{Re.testConnection()},window.checkSocket=()=>{Re.logConnectionStatus()},window.forceSocketConnect=()=>{Re.forceConnectionTest()},console.log(" Socket debugging methods available:"),console.log(" - testSocket() - Test socket connection status"),console.log(" - checkSocket() - Show current socket status"),console.log(" - forceSocketConnect() - Force reconnection")},[]);const we=async()=>{try{L(!0);const[R,T]=await Promise.all([pt.getActiveUsers(),cn.getMyGroups()]);d(R.data.filter(x=>x.id!==e.id)),w(T.data),Ze()}catch(R){console.error("Error fetching initial data:",R),W.error("Failed to load chat data")}finally{L(!1)}},Ze=()=>{console.log(" Setting up enhanced socket listeners with Context API...");const R=u();console.log(" Current socket status:",R),o(T=>{var $,Q;console.log(" CHATROOM CONTEXT - received message:",T);const x=typeof T.sender=="object"?T.sender.id||T.sender._id:T.sender,E=typeof T.receiver=="object"?T.receiver.id||T.receiver._id:T.receiver,O=T.id||T._id||T.messageId,P=T.message||T.content,U=x===e.id||x===e._id||x===(($=e.id)==null?void 0:$.toString())||x===((Q=e._id)==null?void 0:Q.toString());if(T._isConfirmation||T.isConfirmMessage||T.isMessageSentConfirmation){console.log(" Skipping confirmation message");return}const M=pe(T,p,e);if(console.log(" ENHANCED MESSAGE FILTERING:",{senderId:x,receiverId:E,messageId:O,messageText:P,selectedChatId:p==null?void 0:p.id,selectedChatType:p==null?void 0:p.type,currentUserId:e.id,isCurrentUserSender:U,isForCurrentChat:M,messageData:T}),M&&p)console.log(" Processing message for current active chat"),U?console.log(" Message from current user - handled by optimistic updates"):(console.log(" Adding external message to current chat immediately"),v(Y=>{if(Y.some(ue=>{var ze,Be;const Ce=ue.id||ue._id||ue.messageId,ae=ue.message||ue.content,vt=((ze=ue.sender)==null?void 0:ze.id)||((Be=ue.sender)==null?void 0:Be._id)||ue.sender,ve=ue.createdAt||ue.timestamp,at=T.createdAt||T.timestamp;return!!(Ce===O&&O||ae===P&&String(vt)===String(x)&&at&&ve&&Math.abs(new Date(at)-new Date(ve))<5e3||ue.isOptimistic&&ae===P&&String(vt)===String(x)&&at&&ve&&Math.abs(new Date(at)-new Date(ve))<1e4)}))return console.log(" Enhanced detection: Message already exists - confirmed duplicate",{messageId:O,messageText:P==null?void 0:P.substring(0,20),senderId:x,isDuplicate:!0}),Y;console.log(" REAL-TIME: NEW message confirmed - Adding to active chat",{messageId:O,messageText:P==null?void 0:P.substring(0,20),senderId:x,isDuplicate:!1});const te=D(T,x);return j(p.id,T,x),setTimeout(()=>{le()},100),[...Y,te]}));else if(P&&!U){const Y=x||T.sender;Y&&Y!==e.id&&(console.log(" Incrementing unread count for chat:",Y),z(ne=>({...ne,[Y]:(ne[Y]||0)+1})),j(Y,T,x),setTimeout(()=>{le()},100))}}),c(T=>{console.log(" Message sent confirmation received:",T)}),a(T=>{var $,Q,Y,ne;console.log(" GROUP MESSAGE CONTEXT - received message:",T);const x=typeof T.sender=="object"?T.sender.id||T.sender._id:T.sender,E=T.groupId||(($=T.group)==null?void 0:$.id)||((Q=T.group)==null?void 0:Q._id),O=T.id||T._id||T.messageId,P=T.message||T.content,U=x===e.id||x===e._id||x===((Y=e.id)==null?void 0:Y.toString())||x===((ne=e._id)==null?void 0:ne.toString());if(T._isConfirmation||T.isConfirmMessage||T.isMessageSentConfirmation){console.log(" Skipping confirmation message");return}const M=p&&p.type==="group"&&(E===p.id||String(E)===String(p.id));if(console.log(" GROUP MESSAGE FILTERING:",{senderId:x,groupId:E,messageId:O,messageText:P,selectedChatId:p==null?void 0:p.id,selectedChatType:p==null?void 0:p.type,currentUserId:e.id,isCurrentUserSender:U,isForCurrentGroup:M,messageData:T}),M&&p)console.log(" Processing group message for current group"),U?console.log(" Group message from current user - handled by optimistic updates"):(console.log(" Adding external group message to current chat immediately"),v(te=>{if(te.some(ae=>{var ct,Tt;const vt=ae.id||ae._id||ae.messageId,ve=ae.message||ae.content,at=((ct=ae.sender)==null?void 0:ct.id)||((Tt=ae.sender)==null?void 0:Tt._id)||ae.sender,ze=ae.createdAt||ae.timestamp,Be=T.createdAt||T.timestamp;return!!(vt===O&&O||ve===P&&String(at)===String(x)&&Be&&ze&&Math.abs(new Date(Be)-new Date(ze))<5e3||ae.isOptimistic&&ve===P&&String(at)===String(x)&&Be&&ze&&Math.abs(new Date(Be)-new Date(ze))<1e4)}))return console.log(" GROUP duplicate detection: Message already exists",{messageId:O,messageText:P==null?void 0:P.substring(0,20),senderId:x==null?void 0:x.toString(),isDuplicate:!0}),te;console.log(" GROUP REAL-TIME: NEW message confirmed - Adding to active group",{messageId:O,messageText:P==null?void 0:P.substring(0,20),senderId:x,groupId:E});const Ce=D(T,x);return j(p.id,T,x),setTimeout(()=>{le()},100),[...te,Ce]}));else if(P&&!U){const te=E||T.groupId;te&&(!p||p.type!=="group"||String(te)!==String(p.id))&&(console.log(" Incrementing unread count for group:",te),z(Ce=>({...Ce,[te]:(Ce[te]||0)+1})),j(te,T,x),setTimeout(()=>{le()},100))}})},pe=(R,T,x)=>{var U,M,$,Q;if(!T)return!1;const E=((U=R.sender)==null?void 0:U.id)||((M=R.sender)==null?void 0:M._id)||R.sender,O=(($=R.receiver)==null?void 0:$.id)||((Q=R.receiver)==null?void 0:Q._id)||R.receiver,P=R.chatId||R.chatRoom;return T.type==="personal"&&T.id&&(E===T.id&&O===x.id||E===x.id&&O===T.id||String(E)===String(T.id)||String(O)===String(T.id))?!0:T.type==="group"?P===T.id||R.groupId===T.id:!1},D=(R,T)=>{var x,E;return{id:R.id||R._id||R.messageId,message:R.message||R.content,sender:typeof R.sender=="object"?R.sender:{id:T,name:R.senderName||((x=R.sender)==null?void 0:x.name)||"User",profileImage:R.senderProfileImage||((E=R.sender)==null?void 0:E.profileImage)},createdAt:R.createdAt||R.timestamp||new Date().toISOString(),timestamp:R.timestamp||R.createdAt,isFromOtherUser:!(T===e.id||T===e._id)}},j=(R,T,x)=>{var P;const E=x===e.id||x===e._id,O={id:T.id||T._id||T.messageId,message:T.message||T.content,senderName:E?"You":T.senderName||((P=T.sender)==null?void 0:P.name)||"User",senderId:x,timestamp:T.createdAt||T.timestamp||new Date().toISOString()};X(U=>({...U,[R]:O}))},F=async()=>{var R;try{let T;if(p.type==="personal"){if(!p.id){console.error("User ID is undefined for personal chat");return}T=await Ue.getPersonalMessages(p.id)}else{if(!p.id){console.error("Group ID is undefined for group chat");return}T=await Ue.getGroupMessages(p.id)}const x=T.data;if(v(x),x.length>0){const E=x[x.length-1];j(p.id,E,((R=E.sender)==null?void 0:R.id)||E.sender)}}catch(T){console.error("Error fetching messages:",T),W.error("Failed to load messages")}},V=async R=>{if(R.preventDefault(),!h.trim()||!p)return;const T=h.trim();m("");try{const x={id:Date.now(),message:T,sender:{id:e.id,name:e.name,profileImage:e.profileImage},createdAt:new Date().toISOString(),timestamp:new Date().toISOString(),isOptimistic:!0};if(v(E=>[...E,x]),j(p.id,{id:x.id,message:x.message,createdAt:x.createdAt},e.id),p.type==="personal")try{await r(p.id,T,"text",!1),console.log(" Message sent via context socket")}catch(E){console.warn("Context socket failed, trying API:",E),await Ue.sendPersonalMessage({sender:e.id,receiver:p.id,message:T,timestamp:new Date().toISOString()})}else try{await r(p.id,T,"text",!0),console.log(" Group message sent via context socket")}catch(E){console.warn("Context group socket failed, trying API:",E),await Ue.sendGroupMessage({sender:e.id,group:p.id,message:T,timestamp:new Date().toISOString()})}console.log(" Message sent successfully")}catch(x){console.error(" Failed to send message:",x),W.error("Failed to send message"),v(E=>E.filter(O=>!O.isOptimistic))}},G=()=>{var R;(R=oe.current)==null||R.scrollIntoView({behavior:"smooth"})},et=[...f.map(R=>({id:R.id,name:R.name,email:R.email,type:"personal",avatar:R.name.charAt(0).toUpperCase(),profileImage:R.profileImage,lastMessage:B[R.id]||null})),...y.map(R=>{var T;return{id:R.id,name:R.name,email:`${((T=R.members)==null?void 0:T.length)||0} members`,type:"group",avatar:"G",lastMessage:B[R.id]||null}})].filter(R=>R.name.toLowerCase().includes(_.toLowerCase())||R.email.toLowerCase().includes(_.toLowerCase()));return N?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"})}):l.jsx("div",{className:"h-screen bg-gray-50 flex",children:l.jsxs("div",{className:"w-full h-screen flex bg-white shadow-lg",children:[l.jsxs("div",{className:"w-1/3 min-w-[300px] max-w-[400px] bg-white border-r border-gray-200 flex flex-col",children:[l.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between border-b border-gray-200",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"WhatsApp"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ns,{className:"w-5 h-5 text-gray-500 cursor-pointer hover:text-gray-700"}),l.jsx(ga,{className:"w-5 h-5 text-gray-500 cursor-pointer hover:text-gray-700"})]})]}),l.jsx("div",{className:"p-3 bg-white border-b border-gray-200",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search or start new chat",value:_,onChange:R=>A(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-green-400"})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[et.map(R=>l.jsx("div",{onClick:()=>{console.log("Selecting chat:",R),g({type:R.type,id:R.id,name:R.name,profileImage:R.profileImage}),b[R.id]&&(z(T=>{const x={...T};return delete x[R.id],x}),Ue.updateChatState({chatId:R.id,chatType:R.type,action:"clear_unread"}).catch(T=>{console.error("Error clearing unread count:",T)}))},className:`p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 ${(p==null?void 0:p.id)===R.id&&(p==null?void 0:p.type)===R.type?"bg-green-50":""}`,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"relative",children:l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200",children:R.type==="personal"?R.profileImage?l.jsx("img",{src:`${nt}${R.profileImage}`,alt:R.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-green-500 flex items-center justify-center",children:l.jsx("span",{className:"text-white font-semibold text-lg",children:R.avatar})}):l.jsx("div",{className:"w-full h-full bg-green-500 flex items-center justify-center",children:l.jsx(kn,{className:"w-6 h-6 text-white"})})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium text-gray-900 truncate",children:R.name}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"12:30"}),b[R.id]&&b[R.id]>0&&l.jsx("div",{className:"bg-green-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:b[R.id]>99?"99+":b[R.id]})]})]}),l.jsx("p",{className:"text-sm text-gray-500 truncate",children:R.lastMessage&&R.lastMessage.message?`${R.lastMessage.senderName||"You"}: ${R.lastMessage.message}`:"No messages yet"})]})]})},`${R.type}-${R.id}`)),et.length===0&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Dn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500 text-sm",children:_?"No chats found.":"No chats available."})]})]})]}),l.jsx("div",{className:"flex-1 flex flex-col",children:p?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200",children:p.type==="personal"?p.profileImage?l.jsx("img",{src:`${nt}${p.profileImage}`,alt:p.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-green-500 flex items-center justify-center",children:l.jsx("span",{className:"text-white font-semibold",children:p.name.charAt(0).toUpperCase()})}):l.jsx("div",{className:"w-full h-full bg-green-500 flex items-center justify-center",children:l.jsx(kn,{className:"w-5 h-5 text-white"})})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:p.name}),l.jsx("p",{className:"text-xs text-gray-500",children:p.type==="personal"?"last seen today at 10:30 AM":`${p.email}`})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Rc,{className:"w-5 h-5 text-gray-600 cursor-pointer hover:text-gray-800"}),l.jsx(Hh,{className:"w-5 h-5 text-gray-600 cursor-pointer hover:text-gray-800"}),l.jsx(ga,{className:"w-5 h-5 text-gray-600 cursor-pointer hover:text-gray-800"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 relative",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[k.map((R,T)=>{var P,U,M,$,Q,Y;let x=!1;if(typeof R.sender=="object"&&R.sender!==null){const ne=R.sender._id||R.sender.id;x=ne===e.id||ne===e._id||ne===((P=e.id)==null?void 0:P.toString())||ne===((U=e._id)==null?void 0:U.toString())}else x=R.sender===e.id||R.sender===e._id||R.sender===((M=e.id)==null?void 0:M.toString())||R.sender===(($=e._id)==null?void 0:$.toString());const E=typeof R.sender=="object"?(Q=R.sender)==null?void 0:Q.name:"User",O=typeof R.sender=="object"?(Y=R.sender)==null?void 0:Y.profileImage:null;return l.jsx("div",{className:`flex ${x?"justify-end":"justify-start"} mb-4`,children:l.jsxs("div",{className:`flex items-start gap-2 max-w-sm lg:max-w-md ${x?"flex-row-reverse":"flex-row"}`,children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-300 flex-shrink-0",children:x?e.profileImage?l.jsx("img",{src:`${nt}${e.profileImage}`,alt:e.name,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-green-500 flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-medium",children:e.name.charAt(0).toUpperCase()})}):O?l.jsx("img",{src:`${nt}${O}`,alt:E,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gray-400 flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-medium",children:String(E).charAt(0).toUpperCase()})})}),l.jsxs("div",{className:`flex flex-col px-3 py-2 rounded-lg ${x?"bg-green-500 text-white rounded-br-none":"bg-gray-200 text-gray-900 rounded-bl-none"}`,children:[l.jsx("p",{className:"text-sm mb-1 break-words",children:R.message}),l.jsx("p",{className:`text-xs self-end ${x?"text-green-100":"text-gray-500"}`,children:new Date(R.createdAt||R.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},R.id||R._id||T)}),l.jsx("div",{ref:oe})]})}),l.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:l.jsxs("form",{onSubmit:V,className:"flex items-center space-x-3",children:[l.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-gray-700",children:l.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),l.jsx("div",{className:"flex-1 relative",children:l.jsx("input",{type:"text",value:h,onChange:R=>m(R.target.value),placeholder:"Type a message",className:"w-full py-2 px-4 bg-gray-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-green-400"})}),l.jsx("button",{type:"submit",disabled:!h.trim(),className:"bg-green-500 text-white p-2 rounded-full hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx($h,{className:"w-5 h-5"})})]})})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Dn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Welcome to WhatsApp"}),l.jsx("p",{className:"text-gray-500 max-w-md",children:"Select a conversation from the sidebar to start messaging. Your conversations will appear on the left side."})]})})})]})})},tw=()=>{const{user:e}=Jt(),[t,n]=S.useState([]),[r,s]=S.useState(!0),[i,o]=S.useState(""),[a,c]=S.useState(!1),[u,f]=S.useState(null),[d,y]=S.useState({name:"",email:"",password:"",role:"user",phone:"",designation:"",bio:"",isActive:!0});S.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const N=await pt.getUsers();let L=N.data;e.role==="admin"&&(L=N.data.filter(b=>b.role!=="superadmin")),n(L)}catch(N){console.error("Error fetching users:",N),W.error("Failed to load users")}finally{s(!1)}},p=async N=>{var L,b;if(N.preventDefault(),!d.name.trim()){W.error("Name is required");return}if(!d.email.trim()){W.error("Email is required");return}if(!u&&!d.password.trim()){W.error("Password is required");return}try{const z={name:d.name.trim(),email:d.email.trim(),role:d.role,phone:d.phone.trim(),designation:d.designation.trim(),bio:d.bio.trim(),isActive:d.isActive};u?(d.password.trim()&&(z.password=d.password),await pt.updateUser(u.id,z),W.success("User updated successfully")):(z.password=d.password,await pt.createUser(z),W.success("User created successfully")),c(!1),f(null),y({name:"",email:"",password:"",role:"user",phone:"",designation:"",bio:"",isActive:!0}),w()}catch(z){console.error("User operation error:",z),W.error(((b=(L=z.response)==null?void 0:L.data)==null?void 0:b.message)||"Operation failed")}},g=async N=>{if(window.confirm("Are you sure you want to delete this user?"))try{await pt.deleteUser(N),W.success("User deleted successfully"),w()}catch{W.error("Failed to delete user")}},k=async(N,L)=>{const b=L?"disable":"enable";if(window.confirm(`Are you sure you want to ${b} this user?`))try{await pt.toggleUserStatus(N),W.success(`User ${b}d successfully`),w()}catch{W.error(`Failed to ${b} user`)}},v=N=>{f(N),y({name:N.name||"",email:N.email||"",password:"",role:N.role||"user",phone:N.phone||"",designation:N.designation||"",bio:N.bio||"",isActive:N.isActive!==!1}),c(!0)},h=()=>{f(null),y({name:"",email:"",password:"",role:"user",phone:"",designation:"",bio:"",isActive:!0}),c(!0)},m=N=>{switch(N){case"superadmin":return l.jsx(Yi,{className:"w-4 h-4 text-yellow-600"});case"admin":return l.jsx(Pc,{className:"w-4 h-4 text-blue-600"});default:return l.jsx(wn,{className:"w-4 h-4 text-gray-600"})}},_=N=>{switch(N){case"superadmin":return"bg-yellow-100 text-yellow-800";case"admin":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},A=t.filter(N=>{var L,b;return N.name.toLowerCase().includes(i.toLowerCase())||N.email.toLowerCase().includes(i.toLowerCase())||((L=N.designation)==null?void 0:L.toLowerCase().includes(i.toLowerCase()))||((b=N.phone)==null?void 0:b.includes(i))});return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),l.jsx("p",{className:"text-gray-600",children:e.role==="superadmin"?"Manage admins and users in the system":"Manage users in your organization"})]}),e.role==="superadmin"&&l.jsxs("button",{onClick:h,className:"btn-primary inline-flex items-center",children:[l.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Create Admin"]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"card p-6 mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search users by name, email, designation, or phone...",value:i,onChange:N=>o(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(N=>l.jsxs("div",{className:`card p-6 transition-all ${N.isActive?"hover:shadow-lg":"bg-gray-50 border-gray-300 opacity-75"}`,children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-12 h-12 ${N.isActive?"bg-primary-100":"bg-gray-100"} rounded-lg flex items-center justify-center overflow-hidden`,children:N.profileImage?l.jsx("img",{src:`${nt}${N.profileImage}`,alt:"Profile",className:`w-12 h-12 rounded-lg object-cover ${N.isActive?"":"grayscale"}`}):l.jsx(wn,{className:`w-6 h-6 ${N.isActive?"text-primary-600":"text-gray-400"}`})}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-medium ${N.isActive?"text-gray-900":"text-gray-600"}`,children:N.name}),l.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[m(N.role),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(N.role)}`,children:N.role})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[N.id!==(e==null?void 0:e.id)&&(N.role!=="superadmin"||(e==null?void 0:e.role)==="superadmin")&&l.jsxs("div",{className:"relative inline-flex bg-gray-200 rounded-full p-1 cursor-pointer",onClick:()=>k(N.id,N.isActive),children:[l.jsx("div",{className:"absolute top-1 bg-white rounded-full shadow-sm transition-transform duration-300",style:{width:"50%",height:"calc(100% - 8px)",left:N.isActive?"4px":"calc(50% + 2px)",transform:"none"}}),l.jsxs("div",{className:`relative z-10 px-4 py-2 text-xs font-medium rounded-full flex items-center space-x-1 transition-colors duration-200 ${N.isActive?"text-primary-600":"text-gray-500"}`,children:[l.jsx(ma,{className:"w-3 h-3"}),l.jsx("span",{children:"Active"})]}),l.jsxs("div",{className:`relative z-10 px-4 py-2 text-xs font-medium rounded-full flex items-center space-x-1 transition-colors duration-200 ${N.isActive?"text-gray-500":"text-primary-600"}`,children:[l.jsx(K1,{className:"w-3 h-3"}),l.jsx("span",{children:"Disabled"})]})]}),l.jsx("button",{onClick:()=>v(N),className:"text-primary-600 hover:text-primary-900",title:"Edit user",children:l.jsx(bc,{className:"w-4 h-4"})}),N.role!=="superadmin"&&N.id!==(e==null?void 0:e.id)&&l.jsx("button",{onClick:()=>g(N.id),className:"text-red-600 hover:text-red-900",title:"Delete user",children:l.jsx(zh,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(Fh,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"truncate",children:N.email})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(Rc,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:N.phone||"Not provided"})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(Ac,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:N.designation||"Not provided"})]})]}),l.jsx("div",{className:"mb-4",children:l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:N.bio||"No bio provided"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[N.isActive?l.jsx(ma,{className:"w-4 h-4 text-green-600"}):l.jsx(Y1,{className:"w-4 h-4 text-red-600"}),l.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${N.isActive?"text-green-700 bg-green-100":"text-red-700 bg-red-100"}`,children:N.isActive?"Active":"Disabled"})]}),N.lastSeen&&l.jsxs("span",{className:"text-xs text-gray-500",children:["Last seen: ",new Date(N.lastSeen).toLocaleDateString()]})]})]},N.id))}),A.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(kn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),l.jsx("p",{className:"text-gray-500",children:i?"Try adjusting your search terms.":"No users have been created yet."})]})]}),a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:u?"Edit User":"Create Admin"}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),l.jsx("input",{type:"text",required:!0,value:d.name,onChange:N=>y({...d,name:N.target.value}),className:"input-field",placeholder:"Enter full name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{type:"email",required:!0,value:d.email,onChange:N=>y({...d,email:N.target.value}),className:"input-field",placeholder:"Enter email address"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",u&&"(leave blank to keep current)"]}),l.jsx("input",{type:"password",required:!u,value:d.password,onChange:N=>y({...d,password:N.target.value}),className:"input-field",placeholder:u?"Enter new password (optional)":"Enter password"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),l.jsxs("select",{value:d.role,onChange:N=>y({...d,role:N.target.value}),className:"input-field",children:[l.jsx("option",{value:"user",children:"User"}),l.jsx("option",{value:"admin",children:"Admin"}),e.role==="superadmin"&&l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),l.jsx("input",{type:"tel",value:d.phone,onChange:N=>y({...d,phone:N.target.value}),className:"input-field",placeholder:"Enter phone number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),l.jsx("input",{type:"text",value:d.designation,onChange:N=>y({...d,designation:N.target.value}),className:"input-field",placeholder:"Enter designation"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),l.jsx("textarea",{value:d.bio,onChange:N=>y({...d,bio:N.target.value}),className:"input-field",rows:"3",placeholder:"Enter bio (optional)"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"isActive",checked:d.isActive,onChange:N=>y({...d,isActive:N.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"User is active"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",children:u?"Update User":"Create User"})]})]})]})})]})},nw=()=>{const{user:e}=Jt(),[t,n]=S.useState([]),[r,s]=S.useState([]),[i,o]=S.useState(!0),[a,c]=S.useState(""),[u,f]=S.useState(!1),[d,y]=S.useState(null),[w,p]=S.useState({name:"",description:"",members:[]});S.useEffect(()=>{g()},[]);const g=async()=>{var b,z;try{o(!0);const[B,X]=await Promise.all([cn.getGroups(),pt.getActiveUsers()]);console.log("Groups response:",B.data),console.log("First group:",B.data[0]),console.log("First group ID:",(b=B.data[0])==null?void 0:b.id),console.log("First group _ID:",(z=B.data[0])==null?void 0:z._id);const oe=B.data.map(le=>({...le,id:le.id||le._id}));console.log("Transformed groups:",oe),n(oe),s(X.data.filter(le=>le.id!==e.id))}catch(B){console.error("Error fetching data:",B),W.error("Failed to load data")}finally{o(!1)}},k=async b=>{var z,B;if(b.preventDefault(),!w.name.trim()){W.error("Group name is required");return}if(w.members.length===0){W.error("Please add at least one member to the group");return}try{if(console.log("Submitting group data:",w),console.log("Editing group:",d),console.log("Editing group ID:",d==null?void 0:d.id),d){if(!d.id){console.error("No group ID found for editing:",d),W.error("Invalid group ID for editing");return}await cn.updateGroup(d.id,w),W.success("Group updated successfully")}else{const X=await cn.createGroup(w);console.log("Group creation result:",X.data),W.success("Group created successfully")}f(!1),y(null),p({name:"",description:"",members:[]}),g()}catch(X){console.error("Group operation error:",X),W.error(((B=(z=X.response)==null?void 0:z.data)==null?void 0:B.message)||"Operation failed")}},v=async b=>{if(window.confirm("Are you sure you want to delete this group?"))try{await cn.deleteGroup(b),W.success("Group deleted successfully"),g()}catch{W.error("Failed to delete group")}},h=b=>{var X;console.log("Editing group:",b),console.log("Group ID:",b.id),console.log("Group _id:",b._id);const z=b.id||b._id;if(!z){console.error("No valid group ID found:",b),W.error("Invalid group selected");return}const B={...b,id:z};console.log("Group with ID:",B),y(B),p({name:b.name,description:b.description||"",members:((X=b.members)==null?void 0:X.map(oe=>({user:oe.user.id||oe.user,role:oe.role})))||[]}),f(!0)},m=()=>{y(null),p({name:"",description:"",members:[]}),f(!0)},_=b=>{if(console.log("Adding member:",b),console.log("Current members:",w.members),w.members.find(z=>z.user===b))console.log("Member already exists");else{const z={user:b,role:"member"},B=[...w.members,z];console.log("Updated members:",B),p({...w,members:B})}},A=b=>{p({...w,members:w.members.filter(z=>z.user!==b)})},N=t.filter(b=>{var z;return b.name.toLowerCase().includes(a.toLowerCase())||((z=b.description)==null?void 0:z.toLowerCase().includes(a.toLowerCase()))}),L=r.filter(b=>!w.members.find(z=>z.user===b.id));return i?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center py-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Group Management"}),l.jsx("p",{className:"text-gray-600",children:"Create and manage groups for team communication"})]}),l.jsxs("button",{onClick:m,className:"btn-primary inline-flex items-center",children:[l.jsx(Tc,{className:"w-4 h-4 mr-2"}),"Create Group"]})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("div",{className:"card p-6 mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search groups...",value:a,onChange:b=>c(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(b=>{var z,B,X;return l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:l.jsx(kn,{className:"w-6 h-6 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-gray-900",children:b.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[((z=b.members)==null?void 0:z.length)||0," members"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>h(b),className:"text-primary-600 hover:text-primary-900",children:l.jsx(bc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>v(b.id),className:"text-red-600 hover:text-red-900",children:l.jsx(zh,{className:"w-4 h-4"})})]})]}),b.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Members:"}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(B=b.members)==null?void 0:B.slice(0,3).map((oe,le)=>{var we,Ze,pe;return l.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-full px-2 py-1",children:[l.jsx("div",{className:"w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium text-primary-600",children:((Ze=(we=oe.user)==null?void 0:we.name)==null?void 0:Ze.charAt(0))||"U"})}),l.jsx("span",{className:"text-xs text-gray-700",children:((pe=oe.user)==null?void 0:pe.name)||"Unknown"})]},le)}),((X=b.members)==null?void 0:X.length)>3&&l.jsxs("span",{className:"text-xs text-gray-500",children:["+",b.members.length-3," more"]})]})]})]},b.id)})}),N.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(kn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No groups found"}),l.jsx("p",{className:"text-gray-500",children:a?"Try adjusting your search terms.":"Get started by creating your first group."})]})]}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:d?"Edit Group":"Create Group"}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name"}),l.jsx("input",{type:"text",required:!0,value:w.name,onChange:b=>p({...w,name:b.target.value}),className:"input-field",placeholder:"Enter group name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{value:w.description,onChange:b=>p({...w,description:b.target.value}),className:"input-field",rows:"3",placeholder:"Enter group description (optional)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Members"}),w.members.length>0&&l.jsx("div",{className:"mb-3",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:w.members.map((b,z)=>{const B=r.find(X=>X.id===b.user);return l.jsxs("div",{className:"flex items-center space-x-1 bg-primary-100 rounded-full px-3 py-1",children:[l.jsx("span",{className:"text-sm text-primary-700",children:B==null?void 0:B.name}),l.jsx("button",{type:"button",onClick:()=>A(b.user),className:"text-primary-600 hover:text-primary-800",children:l.jsx(Xi,{className:"w-3 h-3"})})]},z)})})}),l.jsxs("div",{className:"border border-gray-300 rounded-lg p-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Add Members:"}),l.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:L.map(b=>l.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium text-primary-600",children:b.name.charAt(0).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),l.jsx("p",{className:"text-xs text-gray-500",children:b.email})]})]}),l.jsx("button",{type:"button",onClick:()=>_(b.id),className:"text-primary-600 hover:text-primary-800",children:l.jsx(Bh,{className:"w-4 h-4"})})]},b.id))})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",children:d?"Update":"Create"})]})]})]})})]})},rw=()=>{const{user:e,setUser:t}=Jt(),[n,r]=S.useState({name:"",email:"",phone:"",designation:"",profileImage:"",bio:""}),[s,i]=S.useState(!1),[o,a]=S.useState(!1),[c,u]=S.useState(null),[f,d]=S.useState(null);S.useEffect(()=>{e&&(r({name:e.name||"",email:e.email||"",phone:e.phone||"",designation:e.designation||"",profileImage:e.profileImage||"",bio:e.bio||""}),u(e.profileImage||null))},[e]);const y=v=>{const{name:h,value:m}=v.target;r(_=>({..._,[h]:m}))},w=v=>{const h=v.target.files[0];if(h){d(h);const m=new FileReader;m.onload=_=>{u(_.target.result)},m.readAsDataURL(h)}},p=()=>{d(null),u(null),r(v=>({...v,profileImage:""}))},g=async v=>{var h;v.preventDefault(),a(!0);try{const m=new FormData;m.append("name",n.name),m.append("phone",n.phone),m.append("designation",n.designation),m.append("bio",n.bio),f&&m.append("profileImage",f);const A=((h=(await pt.updateProfile(m)).data)==null?void 0:h.user)||{};r(N=>({...N,name:A.name??N.name,phone:A.phone??N.phone,designation:A.designation??N.designation,bio:A.bio??N.bio,profileImage:A.profileImage??N.profileImage})),A.profileImage&&u(A.profileImage),t(N=>N?{...N,...A}:A),W.success("Profile updated successfully"),i(!1)}catch(m){console.error("Profile update error:",m),W.error("Failed to update profile")}finally{a(!1)}},k=()=>{i(!1),r({name:e.name||"",email:e.email||"",phone:e.phone||"",designation:e.designation||"",profileImage:e.profileImage||"",bio:e.bio||""}),u(e.profileImage||null),d(null)};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between py-6",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(qi,{to:"/dashboard",className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(z1,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile"}),l.jsx("p",{className:"text-gray-600",children:"Manage your profile information"})]})]}),!s&&l.jsxs("button",{onClick:()=>i(!0),className:"btn-primary inline-flex items-center",children:[l.jsx(bc,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative inline-block",children:[c?l.jsx("img",{src:c.startsWith("http")?c:`${nt}${c}`,alt:"Profile",className:"w-32 h-32 rounded-full object-cover mx-auto"}):l.jsx("div",{className:"w-32 h-32 bg-primary-100 rounded-full flex items-center justify-center mx-auto",children:l.jsx(wn,{className:"w-16 h-16 text-primary-600"})}),s&&l.jsx("div",{className:"absolute bottom-0 right-0",children:l.jsxs("label",{className:"bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[l.jsx(H1,{className:"w-4 h-4"}),l.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden"})]})})]}),l.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-4",children:n.name}),l.jsx("p",{className:"text-gray-600",children:n.designation||"No designation"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:n.email}),s&&c&&l.jsxs("button",{onClick:p,className:"mt-2 text-red-600 hover:text-red-700 text-sm inline-flex items-center",children:[l.jsx(Xi,{className:"w-4 h-4 mr-1"}),"Remove Image"]})]})})}),l.jsx("div",{className:"lg:col-span-2",children:l.jsxs("div",{className:"card p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:s?"Edit Profile Information":"Profile Information"}),s?l.jsxs("form",{onSubmit:g,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsx("input",{type:"text",name:"name",value:n.name,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"+1 (555) 123-4567"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designation"}),l.jsx("input",{type:"text",name:"designation",value:n.designation,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Software Developer"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),l.jsx("textarea",{name:"bio",value:n.bio,onChange:y,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Tell us about yourself..."})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:k,className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:o,className:"btn-primary inline-flex items-center",children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Q1,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(wn,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Name"}),l.jsx("p",{className:"text-sm text-gray-600",children:n.name||"Not provided"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Rc,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone"}),l.jsx("p",{className:"text-sm text-gray-600",children:n.phone||"Not provided"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(B1,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Designation"}),l.jsx("p",{className:"text-sm text-gray-600",children:n.designation||"Not provided"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Fh,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),l.jsx("p",{className:"text-sm text-gray-600",children:n.email})]})]})]}),n.bio&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Bio"}),l.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-4 rounded-lg",children:n.bio})]})]})]})})]})})]})},Vh=({size:e="md"})=>{const t={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("div",{className:`${t[e]} animate-spin rounded-full border-4 border-gray-200 border-t-primary-600`})})};function Qn({children:e,allowedRoles:t}){const{user:n,loading:r}=Jt();return r?l.jsx(Vh,{}):n?t&&!t.includes(n.role)?l.jsx(es,{to:"/dashboard",replace:!0}):e:l.jsx(es,{to:"/login",replace:!0})}function sw(){return l.jsx(zx,{children:l.jsx(gy,{children:l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(lv,{position:"top-right"}),l.jsx(iw,{})]})})})}function iw(){const{user:e,loading:t}=Jt();return t?l.jsx(Vh,{}):l.jsx(l.Fragment,{children:e?l.jsx(D1,{user:e,children:l.jsxs(Qu,{children:[l.jsx(wt,{path:"/login",element:l.jsx(es,{to:"/dashboard",replace:!0})}),l.jsx(wt,{path:"/dashboard",element:l.jsx(Qn,{children:e&&e.role==="user"?l.jsx(Nd,{}):l.jsx(J1,{})})}),l.jsx(wt,{path:"/user-dashboard",element:l.jsx(Qn,{allowedRoles:["user"],children:l.jsx(Nd,{})})}),l.jsx(wt,{path:"/chat",element:l.jsx(Qn,{children:l.jsx(ew,{})})}),l.jsx(wt,{path:"/users",element:l.jsx(Qn,{allowedRoles:["superadmin","admin"],children:l.jsx(tw,{})})}),l.jsx(wt,{path:"/groups",element:l.jsx(Qn,{allowedRoles:["admin"],children:l.jsx(nw,{})})}),l.jsx(wt,{path:"/profile",element:l.jsx(Qn,{children:l.jsx(rw,{})})}),l.jsx(wt,{path:"/",element:l.jsx(es,{to:"/dashboard",replace:!0})})]})}):l.jsxs(Qu,{children:[l.jsx(wt,{path:"/login",element:l.jsx(X1,{})}),l.jsx(wt,{path:"*",element:l.jsx(es,{to:"/login",replace:!0})})]})})}ol.createRoot(document.getElementById("root")).render(l.jsx(Od.StrictMode,{children:l.jsx(sw,{})}));
